(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{468:function(a,s,t){"use strict";t.r(s);var n=t(1),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"前端问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#前端问题"}},[a._v("#")]),a._v(" 前端问题")]),a._v(" "),t("h2",{attrs:{id:"暂时不要升级的依赖包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#暂时不要升级的依赖包"}},[a._v("#")]),a._v(" 暂时不要升级的依赖包")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("依赖包")]),a._v(" "),t("th",[a._v("当前使用版本")]),a._v(" "),t("th",[a._v("最新版本")]),a._v(" "),t("th",[a._v("说明")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("remark-footnotes")]),a._v(" "),t("td",[a._v("2.0.0")]),a._v(" "),t("td",[a._v("= 3.0.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，该包是为了解决 Nuxt 启动 Warning 问题")])]),a._v(" "),t("tr",[t("td",[a._v("rollup-plugin-vue")]),a._v(" "),t("td",[a._v("5.1.9")]),a._v(" "),t("td",[a._v("> 6.0.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，等工程变更为 Vue3 在进行升级")])]),a._v(" "),t("tr",[t("td",[a._v("sass")]),a._v(" "),t("td",[a._v("4.44.2")]),a._v(" "),t("td",[a._v("> 5.9.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，会出现很多样式除法过期的提示，需要等到Vuetify大版本升级后再考虑")])]),a._v(" "),t("tr",[t("td",[a._v("sass-loader")]),a._v(" "),t("td",[a._v("10.1.1")]),a._v(" "),t("td",[a._v("= 12.1.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，最新版本很多包还有没有适配")])]),a._v(" "),t("tr",[t("td",[a._v("webpack")]),a._v(" "),t("td",[a._v("4.46.0")]),a._v(" "),t("td",[a._v("> 5.40.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，compression-webpack-plugin会抛错误")])]),a._v(" "),t("tr",[t("td",[a._v("css-loader")]),a._v(" "),t("td",[a._v("5.2.7")]),a._v(" "),t("td",[a._v("> 6.3.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，编译时会抛错误")])]),a._v(" "),t("tr",[t("td",[a._v("typescript")]),a._v(" "),t("td",[a._v("4.2.3")]),a._v(" "),t("td",[a._v("> 4.3.0")]),a._v(" "),t("td",[a._v("目前不要升级该包，升级后系统无法正确运行")])])])]),a._v(" "),t("h2",{attrs:{id:"问题一-升级依赖包时出错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题一-升级依赖包时出错"}},[a._v("#")]),a._v(" 问题一：升级依赖包时出错")]),a._v(" "),t("p",[a._v("使用"),t("strong",[a._v("yarn upgrade-interactive --latest")]),a._v("命令升级依赖包的时候，特别是@hecate/form-service 中，有依赖包可以升级时（目测是由于使用了 Nuxt），经常会出现下面的错误。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('Invariant Violation: expected workspace package to exist for "autoprefixer"\n    at invariant (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:2314:15)\n    at _loop2 (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:94537:9)\n    at PackageHoister.init (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:94596:19)\n    at PackageLinker.getFlatHoistedTree (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:48744:20)\n    at PackageLinker.<anonymous> (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:48755:27)\n    at Generator.next (<anonymous>)\n    at step (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:310:30)\n    at D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:328:14\n    at new Promise (<anonymous>)\n    at new F (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:5301:28)\n')])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br")])]),t("blockquote",[t("p",[a._v("这个问题是 yarn 本身的 Bug，虽然 yarn 已经升级到了 1.22.10，但是一会好一会不好的。")])]),a._v(" "),t("h3",{attrs:{id:"_1-解决办法一"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-解决办法一"}},[a._v("#")]),a._v(" （1）解决办法一")]),a._v(" "),t("p",[a._v("在工程中将 yarn 的版本，降到 1.19.XX。这种方法，只对本工程有效，这样其它工程仍旧可以使用最新版的 yarn，避免了全局安装低版本 yarn 的问题")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("yarn policies set-version 1.19.XX\n\n// .yarn 目录生成后，执行\nyarn install\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br")])]),t("blockquote",[t("p",[a._v("这个命令会在工程中生成一个.yarn 目录以及一个.yarnrc 文件，并在其中指定 yarn 版本。")])]),a._v(" "),t("h3",{attrs:{id:"_2-解决办法二"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-解决办法二"}},[a._v("#")]),a._v(" （2）解决办法二")]),a._v(" "),t("p",[a._v("这种办法土一点，但是可以不用去理会 yarn 的不管问题。")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("// 1,先查询看看那些包可以升级\nyarn upgrade-interactive --latest\n\n// 2,到指定的包的package.json中，手工修改版本号\n\n// 3,清除组件包的依赖\nlerna clean\n\n// 4,重新关联依赖\nlerna bootstrap\n\n或\n\nyarn install\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br"),t("span",{staticClass:"line-number"},[a._v("7")]),t("br"),t("span",{staticClass:"line-number"},[a._v("8")]),t("br"),t("span",{staticClass:"line-number"},[a._v("9")]),t("br"),t("span",{staticClass:"line-number"},[a._v("10")]),t("br"),t("span",{staticClass:"line-number"},[a._v("11")]),t("br"),t("span",{staticClass:"line-number"},[a._v("12")]),t("br"),t("span",{staticClass:"line-number"},[a._v("13")]),t("br"),t("span",{staticClass:"line-number"},[a._v("14")]),t("br")])]),t("h2",{attrs:{id:"问题二-运行命令是出现禁止脚本运行的错误"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#问题二-运行命令是出现禁止脚本运行的错误"}},[a._v("#")]),a._v(" 问题二：运行命令是出现禁止脚本运行的错误")]),a._v(" "),t("p",[a._v("解决方法：打开 PowerShell（在小娜里搜就行），输入：")]),a._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("set-executionpolicy remotesigned\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[a._v("之后选择 Y，问题就解决了。")])])}),[],!1,null,null,null);s.default=e.exports}}]);