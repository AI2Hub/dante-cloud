(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{487:function(v,_,i){"use strict";i.r(_);var a=i(1),t=Object(a.a)({},(function(){var v=this,_=v.$createElement,i=v._self._c||_;return i("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[i("h1",{attrs:{id:"更新日志"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#更新日志"}},[v._v("#")]),v._v(" 更新日志")]),v._v(" "),i("h2",{attrs:{id:"v2-5-6-0"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-6-0"}},[v._v("#")]),v._v(" v2.5.6.0")]),v._v(" "),i("ol",[i("li",[v._v("Spring Boot 版本升级至 2.5.6")]),v._v(" "),i("li",[v._v("优化自定义多级缓存，对不同的 JPA 实体（数据表）设置不同的缓存时间，支持使用 Spring Boot Yml 配置，。支持 Duration 时间表达式，配置更灵活方便，提升自定义多级缓存的可控性。")]),v._v(" "),i("li",[v._v("使用基于 Caffeine 和 Redis 的多级缓存，实现 Mybatis 自定义二级缓存，让 Mybatis 的数据缓存也可以支持分布式，同时降低数据缓存频繁访问 Redis 问题。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-70"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-70"}},[v._v("#")]),v._v(" v2.5.5.70")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("重大更新")]),v._v(" "),i("ol",[i("li",[v._v("在现有架构基础之上，集成 Redisson 客户端。与 Spring Data Redis 同时使用，支持 Redisson 与 Lettuce 或 Jedis 共存。")]),v._v(" "),i("li",[v._v("重构核心包 eurynome-cloud-data 内主要 Configuration 代码。让各个 Configuration 职责更清晰,代码更内聚，更加便于理解,使用及扩展。")]),v._v(" "),i("li",[v._v("增加 WebSocket 核心代码模块，全面使用STOMP上层协议，支持 WebSocket 集群 Session共享,信息广播及点对点发送,在线统计，可方便拓展断开重连,心跳机制。")])])]),v._v(" "),i("li",[i("p",[v._v("其它更新")]),v._v(" "),i("ol",[i("li",[v._v("前端工程升级大量依赖包版本，重新编译生成组件库")]),v._v(" "),i("li",[v._v("SpringDoc 升级至 1.5.12")]),v._v(" "),i("li",[v._v("Hutool 升级至 5.7.15")]),v._v(" "),i("li",[v._v("JustAuth 升级至 1.16.5")])])])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-60"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-60"}},[v._v("#")]),v._v(" v2.5.5.60")]),v._v(" "),i("ol",[i("li",[v._v("整合职责相近代码包，删除eurynome-cloud-common代码包，让各个代码包职责更明晰,逻辑更清楚。")]),v._v(" "),i("li",[v._v("增加开发环境配置基础知识文档，帮助萌新少走弯路，可以更快地投入到系统的使用和代码研究学习的过程中来。")]),v._v(" "),i("li",[v._v("依赖组件升级\n"),i("ul",[i("li",[v._v("Hutool 升级至 5.7.14")]),v._v(" "),i("li",[v._v("JustAuth 升级至 1.6.5")]),v._v(" "),i("li",[v._v("Camunda 升级至 7.16.0")]),v._v(" "),i("li",[v._v("okhttps 升级至 3.2.0")]),v._v(" "),i("li",[v._v("bce-java-sdk 升级至 0.10.179")]),v._v(" "),i("li",[v._v("jpush-client 升级至 3.5.3")])])]),v._v(" "),i("li",[v._v("Camunda 数据库脚本升级至 7.16.0")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-50"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-50"}},[v._v("#")]),v._v(" v2.5.5.50")]),v._v(" "),i("ol",[i("li",[v._v("新增 Social Authentication 自定义授权模式方式，替代传统Filter过滤器方式，优化手机验证码,微信小程序,第三方认证的集成与Token的分派。代码更加简洁易于维护，解决了第三方认证游离于 OAuth 2 管控体系之外的问题。")]),v._v(" "),i("li",[v._v("本着“高内聚,低耦合”的原则，调整代码，优化代码分包。提升代码分包的合理性，降低各代码包之间的耦合性。")]),v._v(" "),i("li",[v._v("清除大量无用代码。")]),v._v(" "),i("li",[v._v("前端代码升级大量依赖包版本，重新编译库。")]),v._v(" "),i("li",[v._v("新增 Social Authentication 授权模式配置功能。")]),v._v(" "),i("li",[v._v("回滚compression-webpack-plugin组件版本，解决高版本运行错误问题。")]),v._v(" "),i("li",[v._v("补充在线文档IDEA使用常见问题章节。")]),v._v(" "),i("li",[v._v("解决 MySQL 数据更新脚本数据类型不兼容问题")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-40"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-40"}},[v._v("#")]),v._v(" v2.5.5.40")]),v._v(" "),i("ol",[i("li",[v._v("简化 OAuth2 资源服务器 ResourceServerConfigure 配置，代码更简洁规范。")]),v._v(" "),i("li",[v._v("进一步融合 OAuth2 错误体系，解决 OAuth2 部分错误提示与系统自定义错误体系不一致,不融合的问题。")]),v._v(" "),i("li",[v._v("解决包含路径参数的接口，可以跳过鉴权机制直接访问问题")]),v._v(" "),i("li",[v._v("解决人员与用户 @OneToOne 映射，由Jackson 反序列化实体导致 JPA 保存或修改失败问题。")]),v._v(" "),i("li",[v._v("优化接口统一信息反馈类别，新增空数据信息结果反馈，让信息反馈内容更加友好")]),v._v(" "),i("li",[v._v("补充常用正则表达式库")]),v._v(" "),i("li",[v._v("优化人员管理,角色管理关键信息异步校验功能，解决人员管理，使用枚举作为数据类型类型导致的修改数据错误问题。")]),v._v(" "),i("li",[v._v("新增为组织机构人员分配默认用户功能。")]),v._v(" "),i("li",[v._v("新增系统默认角色配置功能。支持机构人员,手机验证码,微信小程序,QQ,微博,百度,微信开放平台,微信公众号,企业微信二维码,企业微信网页,钉钉,钉钉账号,阿里云,淘宝,支付宝,Teambition,华为,飞书,京东,抖音,今日头条,小米,人人,美团,饿了么,酷家乐,喜马拉雅,码云,开源中国,Github,Gitlab,Stackoverflow,Coding,谷歌,微软,脸书,领英,推特,亚马逊,Slack,Line,Okta,Pinterest等多种途径或第三方登录默认角色的配置。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-30"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-30"}},[v._v("#")]),v._v(" v2.5.5.30")]),v._v(" "),i("ol",[i("li",[v._v("Debezimu 升级至 1.7.0.Final")]),v._v(" "),i("li",[v._v("优化统一结果返回实体封装，使用更加便捷。")]),v._v(" "),i("li",[v._v("使用统一结果返回实体新接口，替换已有代码。")]),v._v(" "),i("li",[v._v("优化接口数据前后端加密传输机制，全面支持使用 Spring @RequestParam 注解接口数据加解密。")]),v._v(" "),i("li",[v._v("统一使用 @RequestParam 注解接口加解密方式，改进 OAuth 2 密码模式，用户名,密码参数加密，不再使用传统Filter方式，代码更加简洁规范清晰。")]),v._v(" "),i("li",[v._v("重新调整 WebMvc 配置核心代码，依赖关系更合理，代码逻辑更清晰。")]),v._v(" "),i("li",[v._v("优化完善前端用户管理相关功能。")]),v._v(" "),i("li",[v._v("增加基于 VeeValidate 组件的服务端异步校验机制")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-20"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-20"}},[v._v("#")]),v._v(" v2.5.5.20")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("重大更新")]),v._v(" "),i("ol",[i("li",[v._v("Spring Boot Admin 升级至 2.5.2")]),v._v(" "),i("li",[v._v("基于最新版Axios定义，所有Delete接口，修改为路径参数形式")]),v._v(" "),i("li",[v._v("混合 RSA(非对称) 和 AES(对称加密) 算法，基于自定义注解，设计接口数据前后端加密传输机制。")]),v._v(" "),i("li",[v._v("设计自定义数据传输 Session，规避 Vue Session 变化问题。基于自定义Session，实现 AES KEY 动态生成,加密传输,一人一钥的安全机制，提高系统安全性。")]),v._v(" "),i("li",[v._v("实现 OAuth 2 密码模式，用户名,密码参数加密传输。")])])]),v._v(" "),i("li",[i("p",[v._v("其它更新")]),v._v(" "),i("ol",[i("li",[v._v("修复 Spring Validation 错误信息不会抛出，循环引用问题。")]),v._v(" "),i("li",[v._v("前端 Utils 工具包，新增加密算法模块")]),v._v(" "),i("li",[v._v("基于最新版Axios定义，优化 Axios 请求通用代码")]),v._v(" "),i("li",[v._v("实现前端 node-rsa 包 RSA 算法，与后端 Hutool SecureUtil RSA 算法互相加,解密。")])])]),v._v(" "),i("li",[i("p",[v._v("依赖包版本升级")]),v._v(" "),i("ol",[i("li",[v._v("Guava 升级至 31.0.1-jre")]),v._v(" "),i("li",[v._v("SpringDoc 升级至 1.5.11")]),v._v(" "),i("li",[v._v("Mybatis Plus Generator 升级至 3.5.1")]),v._v(" "),i("li",[v._v("前端工程升级大量依赖包")])])])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-10"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-10"}},[v._v("#")]),v._v(" v2.5.5.10")]),v._v(" "),i("ol",[i("li",[v._v("解决 OAuth2 自带业务表通过 Spring Data JPA 自动创建，字段名变化为小写问题。")]),v._v(" "),i("li",[v._v("完善前端 Camnuda 工作流编辑器组件功能。")]),v._v(" "),i("li",[v._v("完善前端部分功能，解决已知问题。")]),v._v(" "),i("li",[v._v("更新在线文档，补充前端工程详细介绍。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-5-0"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-5-0"}},[v._v("#")]),v._v(" v2.5.5.0")]),v._v(" "),i("ul",[i("li",[i("p",[v._v("重大更新")]),v._v(" "),i("ol",[i("li",[v._v("Spring Boot 升级至 2.5.5")]),v._v(" "),i("li",[v._v("Spring Cloud 升级至 2020.0.4")]),v._v(" "),i("li",[v._v("大幅改进系统数据库表和数据初始化方式，实现OAuth2业务表自动创建，取消使用脚本的创建方式，提升便捷性")]),v._v(" "),i("li",[v._v("新增人力资源管理相关功能，功能和模型设计实现与Camunda用户体系统一。便于用户体系数据的同步和管理。")]),v._v(" "),i("li",[v._v("基于rollup,lerna 和 yarn workspaces，以 monorepo 方式重新构建前端工程。新版前端工程是以Vue2,Typescript开发的，组件库式的前端功能。代码更清晰,组件化和重用化程度更高。为升级至Vue3做前序铺垫。")])])]),v._v(" "),i("li",[i("p",[v._v("其它更新")]),v._v(" "),i("ol",[i("li",[v._v("解决Skywalking UI连接Skywalking OAP Server出错问题。")]),v._v(" "),i("li",[v._v("修改防刷机制的默认配置")]),v._v(" "),i("li",[v._v("重新梳理错误体系，优化错误信息，错误提示更加友好。")]),v._v(" "),i("li",[v._v("解决单体版对Basic模式认证跨域拦截的问题")]),v._v(" "),i("li",[v._v("实现OAuth2 Password模式部分参数加密传输方式，提升系统安全性。")]),v._v(" "),i("li",[v._v("修复老版本前端工程已知问题。")]),v._v(" "),i("li",[v._v("在线文档同步更新。")])])]),v._v(" "),i("li",[i("p",[v._v("依赖包版本升级")]),v._v(" "),i("ol",[i("li",[v._v("Hutool 升级至 5.7.13")]),v._v(" "),i("li",[v._v("okhttps 升级至 3.1.5")]),v._v(" "),i("li",[v._v("weixin-java-miniapp 升级至 4.1.9.B")]),v._v(" "),i("li",[v._v("JustAuth 升级至 1.16.4")]),v._v(" "),i("li",[v._v("jasypt-spring-boot-starter 升级至 3.0.4")]),v._v(" "),i("li",[v._v("mybatis-plus-boot-starter 升级至3.4.3.4")]),v._v(" "),i("li",[v._v("dysmsapi20170525 升级至 2.0.5")])])])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-140"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-140"}},[v._v("#")]),v._v(" v2.5.4.140")]),v._v(" "),i("ol",[i("li",[v._v("优化Antisamy通用代码，提升Xss分析西能，去除严格拦截导致的JSON解析错误。")]),v._v(" "),i("li",[v._v("解决本地权限缓存并发写入冲突，抛出com.esotericsoftware.kryo.KryoException: java.util.ConcurrentModificationException问题。")]),v._v(" "),i("li",[v._v("解决OAuth Starter引入Upms Logic 重复导入权限数据问题。")]),v._v(" "),i("li",[v._v("修改默认验证码字体配置")]),v._v(" "),i("li",[v._v("去除无用依赖包")]),v._v(" "),i("li",[v._v("新增MySQL57数据库切换配置。更新Nacos 配置SQL脚本，增加最新导入包。")]),v._v(" "),i("li",[v._v("新增Camunda 官方脚本")]),v._v(" "),i("li",[v._v("优化数据导入脚本")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-130"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-130"}},[v._v("#")]),v._v(" v2.5.4.130")]),v._v(" "),i("ol",[i("li",[v._v("修复单体版Knife4j依赖错误问题")]),v._v(" "),i("li",[v._v("修复单体版配置错误问题")]),v._v(" "),i("li",[v._v("增加Gitee流程模版")]),v._v(" "),i("li",[v._v("修复OAuth2自定义confirm_access.html,error.html,login.html页面，数据类型编译错误。")]),v._v(" "),i("li",[v._v("优化自定义页面显示内容，增加Exception StackTrace输出")]),v._v(" "),i("li",[v._v("修复XssUtils校验出错问题。")]),v._v(" "),i("li",[v._v("优化ResourceServer安全配置")]),v._v(" "),i("li",[v._v("修复OAuth2 四种模式中授权码模式（Authorization Code）,隐式授权模式（Implicit Grant）模式出错问题。")]),v._v(" "),i("li",[v._v("解决前端控制台出错问题")]),v._v(" "),i("li",[v._v("更新在线文档，增加OAuth2 四种模式验证说明")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-120"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-120"}},[v._v("#")]),v._v(" v2.5.4.120")]),v._v(" "),i("ol",[i("li",[v._v("使用Springdoc全面替换Springfox，配置更灵活,配置更多样")]),v._v(" "),i("li",[v._v("Swagger文档注解全面升级为支持OpenAPI")]),v._v(" "),i("li",[v._v("使用Springdoc重构文档聚合功能，支持聚合查阅和服务独立查阅。Knife4j同步升级至3.0.3版本。")]),v._v(" "),i("li",[v._v("Swagger文档默认支持OAuth2 Password,Authorization Code 两种认证流程")]),v._v(" "),i("li",[v._v("整合Camunda Engine Rest 与Swagger，实现Camunda API接口文档查阅，支持聚合查阅。")]),v._v(" "),i("li",[v._v("修复Bpmn服务默认启动Tomcat问题。")]),v._v(" "),i("li",[v._v("升级前端依赖包版本")]),v._v(" "),i("li",[v._v("更新Nacos配置文件及导入包")]),v._v(" "),i("li",[v._v("更新在线文档")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-110"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-110"}},[v._v("#")]),v._v(" v2.5.4.110")]),v._v(" "),i("ol",[i("li",[v._v("重新构建项目文档体系，使用纯静态页面，替代已有 Gitee Wiki 文档。优化文档结构，提升文档阅读体验。提供全文搜索，便于文档查阅。支持文档独立部署，方便使用者搭建独立的文档服务查阅。")]),v._v(" "),i("li",[v._v("更换Nacos导入包，解决上一版本导入包导入重复问题")]),v._v(" "),i("li",[v._v("Update Readme")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-100"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-100"}},[v._v("#")]),v._v(" v2.5.4.100")]),v._v(" "),i("ol",[i("li",[v._v("重新梳理所有Nacos配置，提取共性配置至统一配置文件，优化配置属性结构和归类，便于参数修改，降低维护复杂度")]),v._v(" "),i("li",[v._v("重构数据库相关Nacos配置，优化Maven,Nacos多环境配置与数据库切换的联动性，让数据库切换所需修改的参数更少，切换更顺滑")]),v._v(" "),i("li",[v._v("解决eurynome-cloud-management编译出现的Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources (default-resources) on 4. project XXXX: Input length = 1 -> [Help 1]错误")]),v._v(" "),i("li",[v._v("解决Redis设置密码后，无法连接出现 NOAUTH Authentication required 错误")]),v._v(" "),i("li",[v._v("增加MySQL数据库默认数据初始化脚本")]),v._v(" "),i("li",[v._v("增加最新版Nacos配置导入包")]),v._v(" "),i("li",[v._v("修复前端UI申请APPKEY页面错误")]),v._v(" "),i("li",[v._v("修复前端UI切换至单体版后，连接错误问题。")]),v._v(" "),i("li",[v._v("升级前端UI依赖包版本。")]),v._v(" "),i("li",[v._v("同步更新相关文档，补充新建子模块,常见问题等部分文档。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-90"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-90"}},[v._v("#")]),v._v(" v2.5.4.90")]),v._v(" "),i("ol",[i("li",[v._v("使用Mybatis Plus全面替换已有Mybatis，与Spring Boot Data JPA共存且支持同时使用。使用任何技术都可以无障碍的进行业务代码编写。")]),v._v(" "),i("li",[v._v("整合Mybatis Plus和Spring Boot Data JPA更换数据库配置属性，一处修改即可以同时修改Mybatis Plus和Spring Boot Data JPA使用数据库类型。")]),v._v(" "),i("li",[v._v("新增接口XSS脚本攻击过滤机制，同时支持请求参数和JSON请求体过滤。采用Ebay XSS过滤模型，进一步提升防控能力。")]),v._v(" "),i("li",[v._v("新增SQL 注入攻击防控机制。")]),v._v(" "),i("li",[v._v("解决eurynome-cloud-gateway和eurynome-cloud-management服务启动调用Kafka问题。")]),v._v(" "),i("li",[v._v("解决CacheConfigException错误问题，在错误体系中增加配置参数不合理提醒，让信息反馈更加友好。")]),v._v(" "),i("li",[v._v("解决Spring Boot Admin 不支持Java 8 时间类型问题。")]),v._v(" "),i("li",[v._v("解决Spring Boot Admin 不显示 Git Properties 信息问题。")]),v._v(" "),i("li",[v._v("解决修改Redis密码配置生效问题")]),v._v(" "),i("li",[v._v("梳理dependencies依赖包，对已有依赖进行进行更合理的分类，更加便于依赖包的找寻和维护。")]),v._v(" "),i("li",[v._v("升级依赖包版本\n"),i("ul",[i("li",[v._v("spring-boot-admin 升级至 2.5.1")]),v._v(" "),i("li",[v._v("git-commit-id-plugin 升级至 4.9.10")]),v._v(" "),i("li",[v._v("docker-maven-plugin 升级至 0.37.0")]),v._v(" "),i("li",[v._v("hutool 升级至 5.7.10")]),v._v(" "),i("li",[v._v("okhttps 升级至 3.1.4")]),v._v(" "),i("li",[v._v("JustAuth 升级至1.16.3")]),v._v(" "),i("li",[v._v("aliyun-java-sdk-core 升级至 4.5.25")]),v._v(" "),i("li",[v._v("baiducloud-java-sdk 升级至 0.10.175")]),v._v(" "),i("li",[v._v("aliyun-java-sdk-oss 升级至 3.13.1")]),v._v(" "),i("li",[v._v("cn.jpush.api 升级至 3.5.2")])])]),v._v(" "),i("li",[v._v("规范项目文档，增加系统部署,数据库切换等多部分内容")]),v._v(" "),i("li",[v._v("增加Nacos配置导入包，在没有自动部署功能支持的情况下，也可以更加方便的导入配置。")]),v._v(" "),i("li",[v._v("替换 UI SweetAlert 过期方法，解决弹出框不会关闭问题")]),v._v(" "),i("li",[v._v("解决授权码模式（authorization code）验证码被拦截问题")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-80"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-80"}},[v._v("#")]),v._v(" v2.5.4.80")]),v._v(" "),i("ul",[i("li",[v._v("合并eurynome-cloud-curd包和eurynome-cloud-rest包，减少包数量，提升代码维护便捷度。")]),v._v(" "),i("li",[v._v("增加接口幂等处理机制，防止重复提交。增加接口防刷限制机制，防止接口恶意频繁刷新。")]),v._v(" "),i("li",[v._v("接口幂等和防刷机制，均支持全局配置控制，同时提供@Idempotent和@AccessLimited注解进行灵活的,个性化的配置。")]),v._v(" "),i("li",[v._v("接口幂等和防刷机制，缓存标记采用分布式多级缓存进行存储，将低单一访问Redis带来的访问压力，同时支持多实例数据多级缓存本地数据同步。")]),v._v(" "),i("li",[v._v("接口幂等和防刷机制，所涉及标记缓存时间配置全部统一支持Duration时间格式，简化配置参数，提升配置便捷度。同时，优化平台错误响应体系，返回更加友好的错误信息提示。")]),v._v(" "),i("li",[v._v("定义Stamp签章体系，采用统一体系，对SMS短信验证码,JustAuth State,环信Token以及接口幂等和防刷等需临时存储标记相关应用进行统一实现。同时，采用分布式多级缓存进行数据存储，降低单一访问Redis压力。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-65"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-65"}},[v._v("#")]),v._v(" v2.5.4.65")]),v._v(" "),i("ul",[i("li",[v._v("优化Skywalking打包内容，直接使用Skywalking官方容器")]),v._v(" "),i("li",[v._v("补充RequestMappingScanner对应事件代码，解决单体版扫描Rest API接口后不会存储问题")]),v._v(" "),i("li",[v._v("优化数据库脚本以及数据库表结构和默认数据自动初始化机制。解决在第一次运行时，Spring Data JPA JDBC初始化机制与Hibernate 初始化机制冲突问题。")]),v._v(" "),i("li",[v._v("在Gitee Wiki中，增加数据库初始化说明文档")]),v._v(" "),i("li",[v._v("删除部分预留代码，减少暂时不必要的代码对使用者带来的误导。")]),v._v(" "),i("li",[v._v("前端UI中，增加部分配置，使用者可以通过注释部分配置，让前端UI快速支持单体版。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-60"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-60"}},[v._v("#")]),v._v(" v2.5.4.60")]),v._v(" "),i("ul",[i("li",[v._v("Spring Boot 版本升级至 2.5.4")]),v._v(" "),i("li",[v._v("Skywalking 版本升级至 8.7.0")]),v._v(" "),i("li",[v._v("微服务日志输出至日志中心格式。")]),v._v(" "),i("li",[v._v("增加Swagger注入条件注解，优化日志中心相关配置采用统一常量控制")]),v._v(" "),i("li",[v._v('增加自定义Property"助手"数据统一自动编译生成配置，无须额外设置，在IDE中编辑配置属性时可自动弹出提示')]),v._v(" "),i("li",[v._v("修复Kafka配置不生效问题。")]),v._v(" "),i("li",[v._v("解决单体版自动启动Kafka问题。")]),v._v(" "),i("li",[v._v("暂时关闭单体版Swagger，规避Swagger会自动启动Kafka问题。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-55"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-55"}},[v._v("#")]),v._v(" v2.5.4.55")]),v._v(" "),i("ul",[i("li",[v._v("整合代码，将constant包代码整合至common包中。删除constant包。")]),v._v(" "),i("li",[v._v("完善Rest接口校验机制，以及相关自定义错误码")]),v._v(" "),i("li",[v._v("统一spring boot validation错误信息，将其整合至平台统一响应实体Result中。无须在各个Rest接口中，添加BindingResult参数。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-50"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-50"}},[v._v("#")]),v._v(" v2.5.4.50")]),v._v(" "),i("ul",[i("li",[v._v("优化服务本地权限存储逻辑，解决权限属性数据重复存储，不会替换问题。")]),v._v(" "),i("li",[v._v("重新梳理Spring Security OAuth2 方法级表达式动态权限鉴权逻辑，摒弃无用的权限验证Voter逻辑，使用统一逻辑实现@PreAuthorize注解权限的全面动态可配置化。统一平台接口- 白名单，IP地址白名单，以及Scope绑定URL的管理。")]),v._v(" "),i("li",[v._v("重构UserDetails用户信息组织逻辑，使用Spring Security标准代码，替换自定义逻辑代码，降低代码冗余，与自研方法级动态权限完美融合。")]),v._v(" "),i("li",[v._v("优化平台权限从Controller扫描,汇总存储至服务器以及动态修改后最终回传同步至服务的整理逻辑以及事件流。完美支持单体式架构,UPMS自身应用需求,分布式架构以及分布式各服- 务多实例等各种应用场景。")]),v._v(" "),i("li",[v._v("修复部分已知BUG，将部分代码中日志由@Slf4j改回传统日志编写方式，一方面提高编译效率，另一方面解决源代码包查看时Idea提醒代码不一致问题。")]),v._v(" "),i("li",[v._v("清理系统无用代码。")]),v._v(" "),i("li",[v._v("增加方法级动态权限演示动图，更新Readme")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-40"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-40"}},[v._v("#")]),v._v(" v2.5.4.40")]),v._v(" "),i("ul",[i("li",[v._v("优化自定义多级缓存，实现可以统一设置allowNullValues值，并解决存储空值时卡死问题。")]),v._v(" "),i("li",[v._v("重新梳理,优化系统权限从Controller扫描,汇总存储至服务器以及动态修改后最终回传同步至服务的整理逻辑以及事件流。完美支持单体式架构,UPMS自身应用需求,分布式架构以及- - 分布式各服务多实例等各种应用场景。")]),v._v(" "),i("li",[v._v("增加Kafka条件注入配置，将条件转换为@ConditionalOnXXX，方便管理和维护。避免单体版应用相关依赖过度依赖Kafka而导致的无法启动")]),v._v(" "),i("li",[v._v("修复部分已知BUG，将部分代码中日志由@Slf4j改回传统日志编写方式，一方面提高编译效率，另一方面解决源代码包查看时Idea提醒代码不一致问题。")]),v._v(" "),i("li",[v._v("去除传统Kafka Producer 通用类，改为统一使用 Spring Cloud Bus")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-30"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-30"}},[v._v("#")]),v._v(" v2.5.4.30")]),v._v(" "),i("ul",[i("li",[v._v("重新调整Property配置，规范Property定义。修改相关配置")]),v._v(" "),i("li",[v._v("调整包，以及包相关依赖关系。让包之间的依赖更加合理")]),v._v(" "),i("li",[v._v("增加Kafka配置，增加@KafkaListener动态控制，以避免在不需要的情况下Kafka的自动开启。")]),v._v(" "),i("li",[v._v("调整部分常理代码位置，常量代码基本调整完成")]),v._v(" "),i("li",[v._v("将原有自定义条件，转换为@ConditionalOnXXX注解，让使用更加便捷")]),v._v(" "),i("li",[v._v("日志中心是否开启状态，改为@ConditionalOnLogCenterEnabled注解")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-20"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-20"}},[v._v("#")]),v._v(" v2.5.4.20")]),v._v(" "),i("ul",[i("li",[v._v("本地权限缓存更换为JetCache，为服务多实例的权限扫描和存储提供更好的支持")]),v._v(" "),i("li",[v._v("将数据访问策略从Conditional类，升级为Conditional注解，使用更加便捷")]),v._v(" "),i("li",[v._v("调整包依赖关系，新建assistant,constant包，删除message包。")]),v._v(" "),i("li",[v._v("逐步将平台中各类非独有常量移入constant包方便管理和修改")]),v._v(" "),i("li",[v._v("采用Spring Boot Event和Spring Cloud Bus Event 机制重构接口收集逻辑。支持单体架构,UPMS,分布式多实例等不同场景接口扫描的特殊需求")]),v._v(" "),i("li",[v._v("优化Docker Compose配置，使用Debezium Kafka 替换已有kafka，以支持Debezium应用")]),v._v(" "),i("li",[v._v("删除无用代码")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-4-10"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-4-10"}},[v._v("#")]),v._v(" v2.5.4.10")]),v._v(" "),i("ul",[i("li",[v._v("全网首个实现Spring Security 动态URL权限与注解表达式权限有机整合，并且可以动态配置的微服务框架。")]),v._v(" "),i("li",[v._v("全面支持方法级权限控制，Security OAuth2 permitAll等方法权限以及@PreAuthorize注解权限，均支持动态配置。目前支持以下权限的动态配置：\n· hasRole\n· hasAnyRole\n· hasAuthority\n· hasAnyAuthority\n· hasIpAddress\n· #oauth2.clientHasRole\n· #oauth2.clientHasAnyRole\n· #oauth2.hasScope\n· #oauth2.hasAnyScope\n· #oauth2.hasScopeMatching\n· #oauth2.hasAnyScopeMatching\n· #oauth2.denyOAuthClient\n· #oauth2.isOAuth\n· #oauth2.isUser\n· #oauth2.isClient")]),v._v(" "),i("li",[v._v("彻底解决使用withObjectPostProcessor方式，会覆盖外部匹配规则问题。")]),v._v(" "),i("li",[v._v("真正实现Scope权限与URL权限的关联与管控，拓展OAuth2默认只进行Scope简单对比的实现逻辑。")]),v._v(" "),i("li",[v._v("实现动态权限配置的多服务同步。")]),v._v(" "),i("li",[v._v("暂时去除JetCache，全面使用自研支持Hibernate二级缓存的多级缓存。")]),v._v(" "),i("li",[v._v("修改配置文件配置")]),v._v(" "),i("li",[v._v("删除无用代码")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-3-60"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-3-60"}},[v._v("#")]),v._v(" v2.5.3.60")]),v._v(" "),i("ul",[i("li",[v._v("Nacos版本升级至2.0.3")]),v._v(" "),i("li",[v._v("Hutool版本升级至5.7.6")]),v._v(" "),i("li",[v._v("修改部分代码名称")]),v._v(" "),i("li",[v._v("修改配置文件配置参数")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-3-50"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-3-50"}},[v._v("#")]),v._v(" v2.5.3.50")]),v._v(" "),i("ul",[i("li",[v._v("将所有服务包括UAA的权限存储，改为本地和认证中心，多级分布式存储和验证。")]),v._v(" "),i("li",[v._v("增加策略模式，支持认证中心权限数据直连和远程消息两种存储方式动态切换。")]),v._v(" "),i("li",[v._v("改进自研多级缓存，解决Hibernate二级缓存进行数据缓存时产生的事务锁问题。")]),v._v(" "),i("li",[v._v("删除无用代码")]),v._v(" "),i("li",[v._v("为动态Scope权限做铺垫。")]),v._v(" "),i("li",[v._v("全面支持方法级权限控制。")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-3-40"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-3-40"}},[v._v("#")]),v._v(" v2.5.3.40")]),v._v(" "),i("ul",[i("li",[v._v("Spring Boot 版本升级至 2.5.3")]),v._v(" "),i("li",[v._v("采用新的Hash算法，缩短权限标识；简化用户权限信息，以缩短平台生成JWT Token的长度")]),v._v(" "),i("li",[v._v("git commit 插件由pl.project13.maven » git-commit-id-plugin改为io.github.git-commit-id » git-commit-id-maven-plugin。")]),v._v(" "),i("li",[v._v("git commit 插件升级至 5.0.0 版本")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-3-30"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-3-30"}},[v._v("#")]),v._v(" v2.5.3.30")]),v._v(" "),i("ul",[i("li",[v._v("重构用户中心用户人员体系，将平台用户,第三方社交登录用户,人事管理用户以及Camunda工作流用户体系无缝融合。")]),v._v(" "),i("li",[v._v("人事管理体系人员唯一化管理，同时支持企业,党组,团青等多种类型的机构类型，便于企业人事管理。")]),v._v(" "),i("li",[v._v("基于Debezium实现数据库变更数据捕获，实现人事管理信息与Camunda工作流用户实时同步。")]),v._v(" "),i("li",[v._v("树形结构通用代码实现逻辑与Hutool Tree一致，因此采用Hutool Tree 全面替换已有的Tree代码。")]),v._v(" "),i("li",[v._v("删除不再使用的通用类代码。")]),v._v(" "),i("li",[v._v("修改说明文档")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-3-10"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-3-10"}},[v._v("#")]),v._v(" v2.5.3.10")]),v._v(" "),i("ul",[i("li",[v._v("自研基于Caffeine和Redis分布式两级缓存")]),v._v(" "),i("li",[v._v("完美支持JPA Hibernate二级缓存")]),v._v(" "),i("li",[v._v("完美支持各类查询数据缓存以及JPA @ManyToMany, @ManyToOne等关联查询。")]),v._v(" "),i("li",[v._v("实现基于Caffeine的Hibernate二级缓存，可与自研两级缓存快速切换，仅使用本地缓存。")]),v._v(" "),i("li",[v._v("极大的简化了原有自研的基于JetCache的缓存使用方式。")]),v._v(" "),i("li",[v._v("保留JetCache，可根据实际使用需要使用。")]),v._v(" "),i("li",[v._v("已有服务接口相关代码，均已更新自研分布式两级缓存模式。")])]),v._v(" "),i("h2",{attrs:{id:"_2-5-2-40"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-2-40"}},[v._v("#")]),v._v(" 2.5.2.40")]),v._v(" "),i("ul",[i("li",[v._v("Redis Value 默认序列化工具修改为Jackson2JsonRedisSerializer")]),v._v(" "),i("li",[v._v("jetcache valueEncoder 和 valueDecoder 修改为kryo")]),v._v(" "),i("li",[v._v("部分代码的日志改为传统方式，不再使用@Slf4j注解")]),v._v(" "),i("li",[v._v("抽象实体共性属性，拓展基础实体，以支持JPA视图类的ORM映射。")]),v._v(" "),i("li",[v._v("重构基础Service，将基础Service的读操作与其它操作分离，以支持“视图”相关Service的编写。")]),v._v(" "),i("li",[v._v("重构基础Controller，将基础Controller的读操作与其它操作分离，以支持“视图”相关Controller的编写。")]),v._v(" "),i("li",[v._v("将Hibernate Validator替换为spring-boot-starter-validation")]),v._v(" "),i("li",[v._v("删除JPA过期方法封装")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-2-30"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-2-30"}},[v._v("#")]),v._v(" v2.5.2.30")]),v._v(" "),i("ul",[i("li",[v._v("Spring Boot 版本升级至2.5.2")]),v._v(" "),i("li",[v._v("Spring Boot Admin 版本升级至2.4.2")]),v._v(" "),i("li",[v._v("升级其它相关依赖版本")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-2-25"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-2-25"}},[v._v("#")]),v._v(" v2.5.2.25")]),v._v(" "),i("ul",[i("li",[v._v("Skywalking升级至8.6.0")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-2-20"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-2-20"}},[v._v("#")]),v._v(" v2.5.2.20")]),v._v(" "),i("ul",[i("li",[v._v("Spring Boot 升级至2.5.1")]),v._v(" "),i("li",[v._v("Camunda 升级至7.15.0")]),v._v(" "),i("li",[v._v("其它依赖包版本升级")]),v._v(" "),i("li",[v._v("Swagger回滚至2.9.2，解决Swagger接口测试相关问题以及Knife4 Authorize不显示问题")]),v._v(" "),i("li",[v._v("结构性调整平台相关配置属性")])]),v._v(" "),i("h2",{attrs:{id:"v2-5-1-0"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-5-1-0"}},[v._v("#")]),v._v(" v2.5.1.0")]),v._v(" "),i("ul",[i("li",[v._v("Spring Boot 大版本升级至2.5.0")])]),v._v(" "),i("h2",{attrs:{id:"v2-4-5-60"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-4-5-60"}},[v._v("#")]),v._v(" v2.4.5.60")]),v._v(" "),i("ul",[i("li",[v._v("修改负载均衡不生效问题")]),v._v(" "),i("li",[v._v("调整包依赖关系")]),v._v(" "),i("li",[v._v("升级版本")])]),v._v(" "),i("h2",{attrs:{id:"v2-4-5-48"}},[i("a",{staticClass:"header-anchor",attrs:{href:"#v2-4-5-48"}},[v._v("#")]),v._v(" v2.4.5.48")]),v._v(" "),i("ul",[i("li",[v._v("正式发布开源版本")])])])}),[],!1,null,null,null);_.default=t.exports}}]);