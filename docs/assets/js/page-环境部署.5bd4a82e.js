(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{467:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"环境部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境部署"}},[t._v("#")]),t._v(" 环境部署")]),t._v(" "),a("h2",{attrs:{id:"准备工作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备工作"}},[t._v("#")]),t._v(" 准备工作")]),t._v(" "),a("h3",{attrs:{id:"后端运行所需的基础设施"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端运行所需的基础设施"}},[t._v("#")]),t._v(" 后端运行所需的基础设施")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("设施")]),t._v(" "),a("th",[t._v("当前版本")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Nacos")]),t._v(" "),a("td",[t._v("2.0.3")]),t._v(" "),a("td",[t._v("分布式版本使用的Nacos作为配置中心和服务发现中心，所以需要安装Nacos。不管本地运行还是Docker,K8S环境都需要。")])]),t._v(" "),a("tr",[a("td",[t._v("Redis")]),t._v(" "),a("td",[t._v("3.2.100+")]),t._v(" "),a("td",[t._v("运行的必须组件，分布式版本,单体版本；本地运行还是还是Docker,K8S环境都需要")])]),t._v(" "),a("tr",[a("td",[t._v("Kafka")]),t._v(" "),a("td",[t._v("2.6.0+")]),t._v(" "),a("td",[t._v("运行的必须组件，分布式版本,单体版本；本地运行还是还是Docker,K8S环境都需要。（虽然本系统使用的是spring cloud bus同时兼容RabbitMQ和Kafka，由于使用Debezium来支持工作流,ElasticSearch数据同步，所以如果没有特殊的使用需求还是建议使用Kafka）")])]),t._v(" "),a("tr",[a("td",[t._v("PostgreSQL 数据库")]),t._v(" "),a("td",[t._v("建议使用最新版，其它版本也可以运行")]),t._v(" "),a("td",[t._v("个人多年项目经验，感觉PostgreSQL更好用和顺手，所以默认数据为PostgreSQL。基础代码都是使用spring data jpa（Mybatis Plus也支持），所以其它数据库也支持，修改一下配置就行")])]),t._v(" "),a("tr",[a("td",[t._v("MySQL 数据库")]),t._v(" "),a("td",[t._v("5.6.5+")]),t._v(" "),a("td",[t._v("Nacos 运行需要依赖数据库，长久运行需要依赖于MySQL（目前Nacos不支持其它数据库，虽说Nacos RoadMap有多数据库支持，不知道什么时候开发完成）。本地运行为了省事，也可以用Nacos的内置数据库，这样减少本地运行资源占用")])]),t._v(" "),a("tr",[a("td",[t._v("Sentinel Dashboard")]),t._v(" "),a("td",[t._v("1.8.0")]),t._v(" "),a("td",[t._v("本地调试运行可以不需要")])]),t._v(" "),a("tr",[a("td",[t._v("Skywalking")]),t._v(" "),a("td",[t._v("8.7.0")]),t._v(" "),a("td",[t._v("本地运行可以不需要")])]),t._v(" "),a("tr",[a("td",[t._v("ELK")]),t._v(" "),a("td",[t._v("7.0.0 +")]),t._v(" "),a("td",[t._v("日志中心中心所需基础环境，本地运行可以不需要，需要在配置关闭日志收集")])])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("(1) 后端本地运行所需标准最小环境")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Nacos >= 1.1.0 (推荐使用最新版Nacos)\nRedis >= 3.0.0\nKafka >= 2.6.0 (目前Kafka运行还需要依赖Zookeeper)\nPostgreSQL >= 10\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[a("strong",[t._v("(2) 开发环境")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("IDEA 或 Eclipse （推荐IDEA）\nJDK >= 1.8 (推荐1.8版本)\nMaven >= 1.3\nGit 使用最新版\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("ul",[a("li",[a("strong",[t._v("(3) 环境配置")])])]),t._v(" "),a("p",[t._v("参见："),a("RouterLink",{attrs:{to:"/knowledge/dev-environment.html"}},[t._v("本地开发环境搭建")])],1),t._v(" "),a("h3",{attrs:{id:"前端运行所需的基础设施"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端运行所需的基础设施"}},[t._v("#")]),t._v(" 前端运行所需的基础设施")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",[t._v("设施")]),t._v(" "),a("th",[t._v("当前版本")]),t._v(" "),a("th",[t._v("说明")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("Nodejs")]),t._v(" "),a("td",[t._v("14.17.0 +")]),t._v(" "),a("td",[t._v("运行前端Vue工程必须依赖，如果不需要运行前端可以忽略")])]),t._v(" "),a("tr",[a("td",[t._v("Yarn")]),t._v(" "),a("td",[t._v("1.22.10")]),t._v(" "),a("td",[t._v("前端包管理工具，如果习惯使用Yarn，用Npm或其它工具也都可以")])])])]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("(1) 前端端本地运行所需标准最小环境")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Nodejs>= 10\nYarn>= 1.22.10 （Yarn2 目前会有很多问题，劣势太多不建议使用）\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("ul",[a("li",[a("strong",[t._v("(2) 开发环境")])])]),t._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Visual Studio Code （Vscode）或其它 （推荐Vscode）\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[t._v("(3) 环境配置")])])]),t._v(" "),a("p",[t._v("参见："),a("RouterLink",{attrs:{to:"/knowledge/dev-environment.html"}},[t._v("本地开发环境搭建")])],1),t._v(" "),a("h2",{attrs:{id:"后端运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端运行"}},[t._v("#")]),t._v(" 后端运行")]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("开展以下各项工作以前，请确保数据库应用,Redis,Nacos,Kafka,ELK 套件已经正确安装和运行。")])]),t._v(" "),a("h3",{attrs:{id:"_1-检出代码创建工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-检出代码创建工程"}},[t._v("#")]),t._v(" [1]检出代码创建工程")]),t._v(" "),a("h4",{attrs:{id:"方式一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一"}},[t._v("#")]),t._v(" 方式一")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("前往"),a("a",{attrs:{href:"https://gitee.com/herodotus/eurynome-cloud",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gitee下载页面"),a("OutboundLink")],1),t._v("下载解压到工作目录")])]),t._v(" "),a("li",[a("p",[t._v("打开IDE导入工程")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("Eclipse")]),t._v("，菜单 "),a("code",[t._v("File -> Import")]),t._v("，然后选择 "),a("code",[t._v("Maven -> Existing Maven Projects")]),t._v("，点击 "),a("code",[t._v("Next")]),t._v(" 按钮，选择工作目录，然后点击 "),a("code",[t._v("Finish")]),t._v(" 按钮，即可成功导入。")])]),t._v(" "),a("li",[a("p",[a("code",[t._v("IDEA")]),t._v("，菜单 "),a("code",[t._v("File -> Open")]),t._v("，然后选择已解压工程所在的目录，点击 "),a("code",[t._v("OK")]),t._v(" 即可。")])])]),t._v(" "),a("blockquote",[a("p",[t._v("IDE会自动加载相关的依赖包，具体要依据网络以及个人本地Maven缓存情况而定。配置 Maven 本地仓库，参见："),a("RouterLink",{attrs:{to:"/knowledge/dev-environment.html"}},[t._v("本地开发环境配置")])],1)]),t._v(" "),a("h4",{attrs:{id:"方式二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二"}},[t._v("#")]),t._v(" 方式二")]),t._v(" "),a("p",[a("code",[t._v("IDEA")]),t._v(" 菜单 "),a("code",[t._v("File -> New -> Project From Version Control...")]),t._v(", 在弹出框中输入本工程Git地址："),a("a",{attrs:{href:"https://gitee.com/herodotus/eurynome-cloud.git",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://gitee.com/herodotus/eurynome-cloud.git"),a("OutboundLink")],1),t._v("，然后设置放置目录，点击 "),a("strong",[t._v("OK")]),t._v(" 即可")]),t._v(" "),a("h3",{attrs:{id:"_2-创建数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建数据库"}},[t._v("#")]),t._v(" [2]创建数据库")]),t._v(" "),a("p",[t._v("进入"),a("code",[t._v("PostgreSQL")]),t._v(" 的"),a("code",[t._v("SQL Shell(psql)")]),t._v(" (在Windows的菜单中可以找到)，使用超级管理员账号和密码登录进入数据库，执行以下脚本：")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("CREATE "),a("span",{pre:!0,attrs:{class:"token environment constant"}},[t._v("USER")]),t._v(" herodotus WITH PASSWORD "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'herodotus'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nCREATE DATABASE herodotus OWNER herodotus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nGRANT ALL PRIVILEGES ON DATABASE herodotus TO herodotus"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("div",{staticClass:"custom-block danger"},[a("p",{staticClass:"custom-block-title"},[t._v("警告")]),t._v(" "),a("p",[t._v("要分步,一条一条地执行，不要全部复制，一把全部执行。一定要注意每个语句结尾要以“;”结束。")])]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("ul",[a("li",[t._v("这里不管是用户名,用户密码还是数据库名均使用herodotus是为了方便，请根据自己实际情况修改。")]),t._v(" "),a("li",[t._v("这里没有进行分库（即：所有的服务使用同一个数据库），如不满足需求，请在整体部署完成可以正常运行后，再结合自己的实际情况修改。")]),t._v(" "),a("li",[t._v("以上是均是以 "),a("code",[t._v("PostgreSQL")]),t._v(" 作为默认数据库进行说明，如果要使用其它数据库，具体安装和建库步骤请自行探索。")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("系统默认使用 "),a("code",[t._v("PostgreSQL")]),t._v(" 数据库，如果想要使用其它数据库，建议详细全面阅读本章节，对整体部署过程有了详细了解之后，再来了解如何切换数据库。参阅："),a("RouterLink",{attrs:{to:"/guide/change-database.html"}},[t._v("更换数据库")])],1)]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[a("code",[t._v("Linux")]),t._v(" 环境下在命令行中，以管理员账号登录 "),a("code",[t._v("PostgreSQL")]),t._v("数据库")])]),t._v(" "),a("h3",{attrs:{id:"_3-创建或导入nacos配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建或导入nacos配置"}},[t._v("#")]),t._v(" [3]创建或导入Nacos配置")]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("再进行以下操作之前，请确保对Nacos中 Namespace,Group等基础概念和具体操作有所了解。"),a("a",{attrs:{href:"https://nacos.io/zh-cn/docs/concepts.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("【官方文档】"),a("OutboundLink")],1)])]),t._v(" "),a("h4",{attrs:{id:"方式一-手动创建nacos配置信息"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式一-手动创建nacos配置信息"}},[t._v("#")]),t._v(" 方式一：手动创建Nacos配置信息")]),t._v(" "),a("p",[t._v("工程的 "),a("code",[t._v("${project_home}/platform/eurynome-cloud-management/resources/configs")]),t._v(" 目录下，放置着所有需要导入到 "),a("code",[t._v("Nacos")]),t._v(" 中的默认配置。开始其它工作之前，需要先在Nacos中创建所有配置")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("访问 "),a("code",[t._v("Nacos")]),t._v(" 后台管理，"),a("a",{attrs:{href:"http://localhost:8848/nacos",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认本机地址"),a("OutboundLink")],1),t._v(", 使用默认账号"),a("code",[t._v("nacos/nacos")]),t._v("登录。")])]),t._v(" "),a("li",[a("p",[t._v("在 "),a("code",[t._v("Nacos")]),t._v(" 后台中，在 "),a("code",[t._v("配置管理 --\x3e 配置列表")]),t._v(" 功能中，点击"),a("strong",[t._v("添加")]),t._v("按钮，手动添加所有配置文件，操作如下图所示：")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/nacos/config-create.png",alt:"创建Nacos配置"}})]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("ul",[a("li",[t._v("创建配置之前，请提前规划配置放置的命名空间（Namespace）。默认是放到 Nacos "),a("code",[t._v("public")]),t._v("命名空间中，如果不符合您的需求，可以在新建命名空间之后，再进行配置的创建。")]),t._v(" "),a("li",[a("code",[t._v("${project_home}/platform/eurynome-cloud-management/resources/configs")]),t._v(" 目录下，还有一级目录。这级目录的名称，是配置文件对应 "),a("code",[t._v("Nacos")]),t._v(" 中的 "),a("code",[t._v("Group")]),t._v(" 名称。所以在 "),a("code",[t._v("Nacos")]),t._v(" 中新建配置时，一定要注意 "),a("code",[t._v("Group")]),t._v(" 的创建和匹配。切勿全部新建到 "),a("code",[t._v("DEFAULT")]),t._v(" 组下，这样会导致无法正常运行。")])])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("本项目所有"),a("code",[t._v("Nacos")]),t._v("配置，均是采用"),a("code",[t._v("yaml")]),t._v("格式。如需使用其它格式请自行修改")])]),t._v(" "),a("h4",{attrs:{id:"方式二-批量导入nacos配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式二-批量导入nacos配置"}},[t._v("#")]),t._v(" 方式二：批量导入Nacos配置")]),t._v(" "),a("p",[t._v("手动方式创建Nacos配置，比较繁琐和容易出错。为了使用提升使用的便捷性，在工程 "),a("code",[t._v("${project_home}/platform/eurynome-cloud-management/resources/imports")]),t._v(" 目录下提供可以直接导入的配置包。可以方便的完成导入配置,创建"),a("code",[t._v("Group")]),t._v("等操作。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("访问 "),a("code",[t._v("Nacos")]),t._v(" 后台管理，"),a("a",{attrs:{href:"http://localhost:8848/nacos",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认本机地址"),a("OutboundLink")],1),t._v(", 使用默认账号"),a("code",[t._v("nacos/nacos")]),t._v("登录。")])]),t._v(" "),a("li",[a("p",[t._v("在 "),a("code",[t._v("Nacos")]),t._v(" 后台中，在 "),a("code",[t._v("配置管理 --\x3e 配置列表")]),t._v(" 功能中，点击"),a("strong",[t._v("导入配置")]),t._v("按钮，选择配置导入包即可，完成配置文件导入和Group的创建，操作如下图所示：")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/nacos/config-import.png",alt:"导入Nacos配置"}})]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("ul",[a("li",[t._v("创建配置之前，请提前规划配置放置的命名空间（Namespace）。默认是放到 Nacos "),a("code",[t._v("public")]),t._v("命名空间中，如果不符合您的需求，可以在新建命名空间之后，再进行配置的创建。")])])]),t._v(" "),a("h3",{attrs:{id:"_4-修改nacos配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-修改nacos配置"}},[t._v("#")]),t._v(" [4]修改Nacos配置")]),t._v(" "),a("p",[t._v("上一步所导入的配置信息均是使用默认的,本地化的配置，需要根据自己搭建的基础设施环境，对相关的配置进行修改。")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("访问 "),a("code",[t._v("Nacos")]),t._v(" 后台管理，"),a("a",{attrs:{href:"http://localhost:8848/nacos",target:"_blank",rel:"noopener noreferrer"}},[t._v("默认本机地址"),a("OutboundLink")],1),t._v(", 使用默认账号"),a("code",[t._v("nacos/nacos")]),t._v("登录。")])]),t._v(" "),a("li",[a("p",[t._v("找到对应的配置文件进行修改。常用的设置在 "),a("code",[t._v("eurynome-cloud-environment.yaml")]),t._v(" 中即可修改完成，如果不满足您实际需求，可再到其它的配置文件中详细修改。")])])]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("为了方便使用，"),a("strong",[t._v("Eurynome Cloud")]),t._v(" 所有的配置采用**“共享式,统一化多环境配置模式”**设计，大多数配置在对应 "),a("code",[t._v("多环境")]),t._v(" 的 "),a("code",[t._v("eurynome-cloud-environment.yaml")]),t._v(" 配置中就可以完成修改。例如，您当前使用的是 "),a("code",[t._v("development")]),t._v(" 环境，那么在Nacos后台管理中，找到 Group 是 "),a("code",[t._v("development")]),t._v(" 的 "),a("code",[t._v("eurynome-cloud-environment.yaml")]),t._v(" 配置修改。")]),t._v(" "),a("p",[a("strong",[t._v("Eurynome Cloud")]),t._v(" 多环境配置设计及使用，参阅："),a("RouterLink",{attrs:{to:"/guide/profile-design.html"}},[t._v("多环境配置")])],1)]),t._v(" "),a("h3",{attrs:{id:"_5-修改pom-xml配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-修改pom-xml配置"}},[t._v("#")]),t._v(" [5]修改pom.xml配置")]),t._v(" "),a("p",[t._v("在工程根目录下，找到 "),a("code",[t._v("pom.xml")]),t._v(", 修改对应 "),a("code",[t._v("profile")]),t._v(" 中参数。由于使用的多环境，所以在该文件中，需要找到应环境的配置，修改该环境下的对应的配置信息。主要结构如下所示：")]),t._v(" "),a("div",{staticClass:"language-xml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-xml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 开发 --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("development"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("id")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("activeByDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("true"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activeByDefault")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("activation")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("profile.name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("development"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile.name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("database.type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("postgresql"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("database.type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("skip.build.source.package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("skip.build.source.package")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("skip.copy.docker.resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("skip.copy.docker.resource")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("skip.build.git.commit.info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("false"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("skip.build.git.commit.info")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("127.0.0.1:8848"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("config.namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("config.namespace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("discovery.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("127.0.0.1:8848"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("discovery.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("sentinel.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("127.0.0.1:8858"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("sentinel.server-addr")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("properties")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("profile")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br")])]),a("p",[t._v("必须要修改的参数涉及以下几项：")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("config.server-addr")]),t._v("：配置中心地址，即Nacos服务端地址")]),t._v(" "),a("li",[a("strong",[t._v("config.namespace")]),t._v("：Nacos 命名空间ID。如果要使用的是默认的命名空间，该参数不设置任何值。")]),t._v(" "),a("li",[a("strong",[t._v("discovery.server-addr")]),t._v("：服务发现地址，即Nacos服务端地址")]),t._v(" "),a("li",[a("strong",[t._v("sentinel.server-addr")]),t._v("：Sentinel Dashborad 地址")])]),t._v(" "),a("p",[t._v("详细参数说明，参阅："),a("RouterLink",{attrs:{to:"/guide/profile-design.html"}},[t._v("多环境配置")])],1),t._v(" "),a("h3",{attrs:{id:"_6-编译代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-编译代码"}},[t._v("#")]),t._v(" [6]编译代码")]),t._v(" "),a("h4",{attrs:{id:"编译方式一"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译方式一"}},[t._v("#")]),t._v(" 编译方式一")]),t._v(" "),a("p",[t._v("用命令行进入到工程代码所在根据目录，通过执行下面命令进行编译")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("mvn "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n或 \n\nmvn package\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br")])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("推荐使用"),a("code",[t._v("install")]),t._v("命令，进行编译。使用该命令编译完成之后，会在"),a("code",[t._v("Maven")]),t._v("本地缓存中，生成响应的包，这样"),a("code",[t._v("eurynome-cloud-athena")]),t._v("功能就可以直接使用。")])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[t._v("在第一次编译的时候，因为在本地缓存缺少相关的包，所以在执行 "),a("code",[t._v("mvn clean")]),t._v(" 操作时会提示错误。因此，在第一次编译时只使用 "),a("code",[t._v("mvn package")]),t._v(" 或 "),a("code",[t._v("mvn install")]),t._v("。第一次编译完成之后，就可以使用 "),a("code",[t._v("mvn clean package")]),t._v(" 或 "),a("code",[t._v("mvn clean install")]),t._v(" 命令进行编译。IDE界面操作也是同理。")])]),t._v(" "),a("h4",{attrs:{id:"编译方式二"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#编译方式二"}},[t._v("#")]),t._v(" 编译方式二")]),t._v(" "),a("p",[t._v("在IDE工程中，利用IDE提供的界面操作进行编译。")]),t._v(" "),a("p",[t._v("以"),a("code",[t._v("IDEA")]),t._v("为例，在右侧"),a("code",[t._v("Maven Panel")]),t._v("中，选择"),a("code",[t._v("eurynome-cloud(root)")]),t._v("节点，点击Lifecycle节点下的"),a("code",[t._v("install")]),t._v(" 或者 "),a("code",[t._v("package")]),t._v(" 进行编译。参考下图：")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/idea/lifecycle.png",alt:"输入图片说明"}})]),t._v(" "),a("h3",{attrs:{id:"_7-数据库创建和数据初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_7-数据库创建和数据初始化"}},[t._v("#")]),t._v(" [7]数据库创建和数据初始化")]),t._v(" "),a("p",[t._v("具体操作方法，参阅："),a("RouterLink",{attrs:{to:"/guide/data-initialization.html"}},[t._v("数据初始化")])],1),t._v(" "),a("h3",{attrs:{id:"_8-运行服务模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_8-运行服务模块"}},[t._v("#")]),t._v(" [8]运行服务模块")]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("说明")]),t._v(" "),a("p",[t._v("各个服务的启动顺序并没有严格的要求，启动的先后顺序并不影响实际的使用，但是部分核心代码逻辑以及组件存在“时机性”问题，启动顺序的不同会略有时机差异性。")]),t._v(" "),a("p",[t._v("如果您对时机性没有要求，那么请忽略启动顺序问题，随意启动。")]),t._v(" "),a("p",[t._v("如果您对时机性有较高要求，那么请详细阅读各个服务对应的备注说明。")])]),t._v(" "),a("ul",[a("li",[t._v("ManagementApplication （监控中心服务 可选。）")])]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("本质上 "),a("code",[t._v("ManagementApplication")]),t._v(" 服务先启动还是后启动，并不影响平台的实际使用。仅有的影响是")]),t._v(" "),a("ul",[a("li",[t._v("先启动"),a("code",[t._v("ManagementApplication")]),t._v("服务，然后再启动其它服务，"),a("code",[t._v("Spring Boot Admin")]),t._v("会马上收到服务的运行监控信息，进行及时的展示；")]),t._v(" "),a("li",[t._v("如果后启动"),a("code",[t._v("ManagementApplication")]),t._v("服务，其它在"),a("code",[t._v("ManagementApplication")]),t._v("之前运行服务的监控信息会间隔一段时间才会展现。")])]),t._v(" "),a("blockquote",[a("p",[t._v("如果要使用该服务中的"),a("code",[t._v("Spring Boot Admin")]),t._v("监控，建议最先启动该服务。")])])]),t._v(" "),a("ul",[a("li",[t._v("UpmsApplication （用户中心服务 必须）")]),t._v(" "),a("li",[t._v("GatewayApplication （服务网关服务 必须）")]),t._v(" "),a("li",[t._v("UaaApplication （统一认证服务 必须）")]),t._v(" "),a("li",[t._v("BpmnApplication （分布式工作流 可选）")])]),t._v(" "),a("h3",{attrs:{id:"_9-运行elk-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_9-运行elk-可选"}},[t._v("#")]),t._v(" [9]运行ELK（可选）")]),t._v(" "),a("p",[t._v("完整运行本套微服务架构，需要搭建 "),a("code",[t._v("ELK")]),t._v(" 套件，作为日志中心以及 "),a("code",[t._v("Skywalking")]),t._v(" 链路追踪的数据存储介质。")]),t._v(" "),a("p",[t._v("目前已有基础功能尚未涉及到搜索，只有日志中心和链路追踪功能涉及到 "),a("code",[t._v("Elasticsearch")]),t._v("。如果本地开发不要相关功能，就不需要安装和运行"),a("code",[t._v("ELK")]),t._v("套件。")]),t._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[t._v("提示")]),t._v(" "),a("p",[t._v("如果本地不想使用 "),a("code",[t._v("ELK")]),t._v("，那么需要关闭微服务的日志收集功能。")]),t._v(" "),a("p",[t._v("修改你所使用 "),a("code",[t._v("多环境")]),t._v(" 对应的 "),a("code",[t._v("eurynome-cloud-environment.yaml")]),t._v(" 配置中的 "),a("code",[t._v("herodotus.environment.logstash-server-addr")]),t._v(" 属性的值，将其值设置成 "),a("code",[t._v("false")]),t._v(" ，即可关闭日志收集功能，就解除服务对 "),a("code",[t._v("ELK")]),t._v(" 的依赖")])]),t._v(" "),a("h3",{attrs:{id:"_10-运行skywalking-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_10-运行skywalking-可选"}},[t._v("#")]),t._v(" [10]运行Skywalking（可选）")]),t._v(" "),a("p",[t._v("完整运行本套微服务架构，需要搭建 "),a("code",[t._v("ELK")]),t._v(" 套件，作为日志中心以及"),a("code",[t._v("Skywalking")]),t._v("链路追踪的数据存储介质。正式环境运行建议使用 "),a("code",[t._v("Docker")]),t._v(" 或 "),a("code",[t._v("K8S")]),t._v(" 的方式运行 "),a("code",[t._v("Skywalking")]),t._v("，并以 "),a("code",[t._v("Docker")]),t._v(" 的形式运行服务。")]),t._v(" "),a("p",[t._v("如果仅是在本地运行调试服务与 "),a("code",[t._v("Skywalking")]),t._v(" 的联动，可以在IDE中增加参数后，再运行服务即可。")]),t._v(" "),a("p",[t._v("以IDEA为例，点开 "),a("code",[t._v("Edit Configurations...")]),t._v("，在对应服务的 "),a("code",[t._v("VM Options")]),t._v(" 输入框中添加如下参数即可调试 "),a("code",[t._v("Skywalking")])]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("-javaagent:D:/Workspaces/Java/herodotus-cloud/configurations/docker/context/agent/skywalking-agent-es7-8.6.0.jar"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("agent.service_name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("herodotus-cloud-upms-ability,collector.backend_service"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("192.168")]),t._v(".101.10:11800\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("p",[t._v("操作界面如下图所示，IDEA版本不同配置方式会有差异")]),t._v(" "),a("p",[a("img",{attrs:{src:"/images/idea/local-skywalking.jpeg",alt:"输入图片说明"}})]),t._v(" "),a("h3",{attrs:{id:"_11-以docker方式部署-可选"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_11-以docker方式部署-可选"}},[t._v("#")]),t._v(" [11]以Docker方式部署（可选）")]),t._v(" "),a("p",[t._v("参见："),a("RouterLink",{attrs:{to:"/microservices/container-deployment.html"}},[t._v("容器化部署")])],1),t._v(" "),a("h3",{attrs:{id:"_12-部署验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_12-部署验证"}},[t._v("#")]),t._v(" [12]部署验证")]),t._v(" "),a("p",[t._v("以上步骤完成之后，工程后端整体搭建部署完成。可以通过运行前端界面进行操作或者用 "),a("code",[t._v("Postman")]),t._v(" 调用接口的方式进行验证。")]),t._v(" "),a("p",[t._v("如果界面操作正常，或者接口调用正常，则说明工程已经正确部署。更多验证，参阅："),a("RouterLink",{attrs:{to:"/microservices/oauth2-authorization.html"}},[t._v("OAuth2授权标准")])],1),t._v(" "),a("h2",{attrs:{id:"前端运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端运行"}},[t._v("#")]),t._v(" 前端运行")]),t._v(" "),a("h3",{attrs:{id:"_1-检出代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-检出代码"}},[t._v("#")]),t._v(" [1]检出代码")]),t._v(" "),a("p",[t._v("在合适位置上，使用Git检出前端工程代码。"),a("a",{attrs:{href:"https://gitee.com/herodotus/eurynome-cloud-ui",target:"_blank",rel:"noopener noreferrer"}},[t._v("项目地址"),a("OutboundLink")],1)]),t._v(" "),a("h3",{attrs:{id:"_2-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-修改配置"}},[t._v("#")]),t._v(" [2]修改配置")]),t._v(" "),a("p",[t._v("在前端工程 "),a("code",[t._v("${project_home}/packages/@herodotus/ui")]),t._v(" 录下，找到 "),a("code",[t._v(".env.development")]),t._v(" 或者 "),a("code",[t._v(".env.production")]),t._v(" 文件。修改其中的参数")]),t._v(" "),a("div",{staticClass:"custom-block info"},[a("p",{staticClass:"custom-block-title"},[t._v("参数说明")]),t._v(" "),a("ul",[a("li",[a("strong",[t._v("NODE_ENV")]),t._v("：当前多环境名称")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_SYSTEM_NAME")]),t._v("：界面显示的系统名称")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_GATEWAY")]),t._v("：服务网关访问地址")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_PROJECT")]),t._v("：地址切换名称。通过该参数以动态修改域名以外的地址，以实现单体版等使用同一套操作界面。"),a("code",[t._v("eurynome")]),t._v("指定是微服务版，其它任意值指定是单体版")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_OAUTH_CLIENT_ID")]),t._v("：OAuth2 密码模式 Client Id。")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_OAUTH_CLIENT_SECRET")]),t._v("：OAuth2 密码模式 Client 密码")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_OAUTH_GRANT_TYPE")]),t._v("：OAuth2 授权模式")]),t._v(" "),a("li",[a("strong",[t._v("VUE_APP_SECRET_KEY")]),t._v("：前端关键信息 AES 加密秘钥")])])]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("注意")]),t._v(" "),a("p",[a("code",[t._v("VUE_APP_SECRET_KEY")]),t._v(" 秘钥，并不是本系统前后端数据加密传输使用的秘钥，只是对前端临时存储的关键信息加密的秘钥。")]),t._v(" "),a("p",[t._v("本系统前后端数据加密传输，是基于自主设计的自定义数据传输 Session，实现 AES 加密秘钥的动态生成,加密传输,一人一钥机制。每次使用系统都会动态重新生成，采用 RSA 前后端加密传输，临时存储至前端。缓存时间与 "),a("code",[t._v("OAuth 2 Token")]),t._v(" 设置时间相同，正常退出系统后，会清除前端临时存储数据。")]),t._v(" "),a("blockquote",[a("p",[t._v("并没有绝对安全的加密措施，前后端数据加密传输也仅仅是相对提升安全性。毕竟不管如何处理，前端都要存储一定的关键信息，而且前端是最容易破解的。正式环境使用还是要配合 "),a("code",[t._v("Https")]),t._v(" 以及其它安全防护措施。")])])]),t._v(" "),a("h3",{attrs:{id:"_3-前端运行命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-前端运行命令"}},[t._v("#")]),t._v(" [3]前端运行命令")]),t._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[t._v("// 进入目录\n"),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" eurynome-cloud-ui\n\n// 安装依赖\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n\n// 如果要使用 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v(".env.development"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" 中的配置值，使用下面命令\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" e:ui dev\n\n// 如果要使用 "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")]),t._v(".env.production"),a("span",{pre:!0,attrs:{class:"token variable"}},[t._v("`")])]),t._v(" 中的配置值，使用下面命令\n\n"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" e:ui prod\n\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])]),a("h3",{attrs:{id:"_4-运行验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-运行验证"}},[t._v("#")]),t._v(" [4]运行验证")]),t._v(" "),a("p",[t._v("打开浏览器，输入："),a("a",{attrs:{href:"http://localhost:3000",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://localhost:3000"),a("OutboundLink")],1),t._v(" 默认账户/密码 system/123456")]),t._v(" "),a("p",[t._v("若能正确展示登录页面，并能成功登录，菜单及页面展示正常，则表明环境搭建成功")])])}),[],!1,null,null,null);s.default=n.exports},482:function(t,s,a){"use strict";a.r(s);var e=a(1),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"环境部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境部署"}},[t._v("#")]),t._v(" 环境部署")]),t._v(" "),a("h2",{attrs:{id:"后端运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后端运行"}},[t._v("#")]),t._v(" 后端运行")]),t._v(" "),a("h3",{attrs:{id:"_1-检出代码创建工程"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-检出代码创建工程"}},[t._v("#")]),t._v(" [1]检出代码创建工程")]),t._v(" "),a("p",[t._v("具体操作与微服务版相同，参阅："),a("RouterLink",{attrs:{to:"/guide/deployment.html#_1-检出代码创建工程"}},[t._v("检出代码创建工程")])],1),t._v(" "),a("h3",{attrs:{id:"_2-创建数据库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建数据库"}},[t._v("#")]),t._v(" [2]创建数据库")]),t._v(" "),a("p",[t._v("具体操作与微服务版相同，参阅："),a("RouterLink",{attrs:{to:"/guide/deployment.html#_2-创建数据库"}},[t._v("创建数据库")])],1),t._v(" "),a("h3",{attrs:{id:"_3-修改配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-修改配置"}},[t._v("#")]),t._v(" [3]修改配置")]),t._v(" "),a("p",[t._v("根据自己的实际环境情况，修改 "),a("code",[t._v("application.yml")]),t._v(" 中数据库以及Redis等相关配置。")]),t._v(" "),a("h3",{attrs:{id:"_4-编译代码"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-编译代码"}},[t._v("#")]),t._v(" [4]编译代码")]),t._v(" "),a("p",[t._v("具体操作与微服务版相同，参阅："),a("RouterLink",{attrs:{to:"/guide/deployment.html#_6-编译代码"}},[t._v("编译代码")])],1),t._v(" "),a("h3",{attrs:{id:"_5-数据库创建和数据初始化"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-数据库创建和数据初始化"}},[t._v("#")]),t._v(" [5]数据库创建和数据初始化")]),t._v(" "),a("p",[t._v("具体操作与微服务版相同，参阅："),a("RouterLink",{attrs:{to:"/guide/deployment.html#_7-数据库创建和数据初始化"}},[t._v("数据库创建和数据初始化")])],1),t._v(" "),a("h2",{attrs:{id:"前端运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端运行"}},[t._v("#")]),t._v(" 前端运行")]),t._v(" "),a("p",[t._v("具体操作与微服务版相同，参阅："),a("RouterLink",{attrs:{to:"/guide/deployment.html#前端运行"}},[t._v("环境部署")])],1)])}),[],!1,null,null,null);s.default=n.exports}}]);