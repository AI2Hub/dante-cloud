"use strict";(self.webpackChunkeurynome_cloud_document=self.webpackChunkeurynome_cloud_document||[]).push([[939],{4988:(e,a,n)=>{n.r(a),n.d(a,{data:()=>s});const s={key:"v-392e2ac6",path:"/documents/%E5%89%8D%E7%AB%AF%E9%97%AE%E9%A2%98.html",title:"前端问题",lang:"zh-CN",frontmatter:{},excerpt:"",headers:[{level:2,title:"暂时不要升级的依赖包",slug:"暂时不要升级的依赖包",children:[]},{level:2,title:"问题一：升级依赖包时出错",slug:"问题一-升级依赖包时出错",children:[{level:3,title:"（1）解决办法一",slug:"_1-解决办法一",children:[]},{level:3,title:"（2）解决办法二",slug:"_2-解决办法二",children:[]}]},{level:2,title:"问题二：运行命令是出现禁止脚本运行的错误",slug:"问题二-运行命令是出现禁止脚本运行的错误",children:[]}],filePathRelative:"documents/前端问题.md",git:{updatedTime:null,contributors:[]}}},5037:(e,a,n)=>{n.r(a),n.d(a,{default:()=>t});const s=(0,n(6252).uE)('<h1 id="前端问题" tabindex="-1"><a class="header-anchor" href="#前端问题" aria-hidden="true">#</a> 前端问题</h1><h2 id="暂时不要升级的依赖包" tabindex="-1"><a class="header-anchor" href="#暂时不要升级的依赖包" aria-hidden="true">#</a> 暂时不要升级的依赖包</h2><table><thead><tr><th>依赖包</th><th>当前使用版本</th><th>最新版本</th><th>说明</th></tr></thead><tbody><tr><td>remark-footnotes</td><td>2.0.0</td><td>= 3.0.0</td><td>目前不要升级该包，该包是为了解决 Nuxt 启动 Warning 问题</td></tr><tr><td>rollup-plugin-vue</td><td>5.1.9</td><td>&gt; 6.0.0</td><td>目前不要升级该包，等工程变更为 Vue3 在进行升级</td></tr><tr><td>sass</td><td>4.44.2</td><td>&gt; 5.9.0</td><td>目前不要升级该包，会出现很多样式除法过期的提示，需要等到Vuetify大版本升级后再考虑</td></tr><tr><td>sass-loader</td><td>10.1.1</td><td>= 12.1.0</td><td>目前不要升级该包，最新版本很多包还有没有适配</td></tr><tr><td>webpack</td><td>4.46.0</td><td>&gt; 5.40.0</td><td>目前不要升级该包，compression-webpack-plugin会抛错误</td></tr><tr><td>css-loader</td><td>5.2.7</td><td>&gt; 6.3.0</td><td>目前不要升级该包，编译时会抛错误</td></tr><tr><td>typescript</td><td>4.2.3</td><td>&gt; 4.3.0</td><td>目前不要升级该包，升级后系统无法正确运行</td></tr></tbody></table><h2 id="问题一-升级依赖包时出错" tabindex="-1"><a class="header-anchor" href="#问题一-升级依赖包时出错" aria-hidden="true">#</a> 问题一：升级依赖包时出错</h2><p>使用<strong>yarn upgrade-interactive --latest</strong>命令升级依赖包的时候，特别是@hecate/form-service 中，有依赖包可以升级时（目测是由于使用了 Nuxt），经常会出现下面的错误。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>Invariant Violation: expected workspace package to exist for &quot;autoprefixer&quot;\n    at invariant (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:2314:15)\n    at _loop2 (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:94537:9)\n    at PackageHoister.init (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:94596:19)\n    at PackageLinker.getFlatHoistedTree (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:48744:20)\n    at PackageLinker.&lt;anonymous&gt; (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:48755:27)\n    at Generator.next (&lt;anonymous&gt;)\n    at step (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:310:30)\n    at D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:328:14\n    at new Promise (&lt;anonymous&gt;)\n    at new F (D:\\LocalCaches\\yarn\\global\\node_modules\\yarn\\lib\\cli.js:5301:28)\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>这个问题是 yarn 本身的 Bug，虽然 yarn 已经升级到了 1.22.10，但是一会好一会不好的。</p></blockquote><h3 id="_1-解决办法一" tabindex="-1"><a class="header-anchor" href="#_1-解决办法一" aria-hidden="true">#</a> （1）解决办法一</h3><p>在工程中将 yarn 的版本，降到 1.19.XX。这种方法，只对本工程有效，这样其它工程仍旧可以使用最新版的 yarn，避免了全局安装低版本 yarn 的问题</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>yarn policies set-version 1.19.XX\n\n// .yarn 目录生成后，执行\nyarn install\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><blockquote><p>这个命令会在工程中生成一个.yarn 目录以及一个.yarnrc 文件，并在其中指定 yarn 版本。</p></blockquote><h3 id="_2-解决办法二" tabindex="-1"><a class="header-anchor" href="#_2-解决办法二" aria-hidden="true">#</a> （2）解决办法二</h3><p>这种办法土一点，但是可以不用去理会 yarn 的不管问题。</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>// 1、先查询看看那些包可以升级\nyarn upgrade-interactive --latest\n\n// 2、到指定的包的package.json中，手工修改版本号\n\n// 3、清除组件包的依赖\nlerna clean\n\n// 4、重新关联依赖\nlerna bootstrap\n\n或\n\nyarn install\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="问题二-运行命令是出现禁止脚本运行的错误" tabindex="-1"><a class="header-anchor" href="#问题二-运行命令是出现禁止脚本运行的错误" aria-hidden="true">#</a> 问题二：运行命令是出现禁止脚本运行的错误</h2><p>解决方法：打开 PowerShell（在小娜里搜就行），输入：</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>set-executionpolicy remotesigned\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br></div></div><p>之后选择 Y，问题就解决了。</p>',18),t={render:function(e,a){return s}}}}]);