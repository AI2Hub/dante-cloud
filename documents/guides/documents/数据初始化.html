<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.26">
    <link rel="icon" href="/eurynome-cloud/images/logo.png"><meta name="keywords" content="Eurynome Cloud,微服务,Spring Boot,Spirng Cloud,Spring Cloud Alibaba,Spring Security,OAuth2,Nacos,Skywalking"><script>var _hmt = _hmt || [];
            (function() {
                var hm = document.createElement("script");
                hm.src = "https://hm.baidu.com/hm.js?376190fed0f613f413a39d7aa19f387d";
                var s = document.getElementsByTagName("script")[0];
                s.parentNode.insertBefore(hm, s);
            })();</script><title>数据初始化 | Eurynome Cloud</title><meta name="description" content="Eurynome Cloud, 在线文档, 微服务, 微服务架构, Spring Boot，Spring Cloud，Spring Cloud Alibaba, Spring Security, OAuth 2, Skywalking, Nacos">
    <link rel="preload" href="/eurynome-cloud/assets/js/runtime~app.af71715b.js" as="script"><link rel="preload" href="/eurynome-cloud/assets/css/styles.03bfbc71.css" as="style"><link rel="preload" href="/eurynome-cloud/assets/js/567.0e0ffb96.js" as="script"><link rel="preload" href="/eurynome-cloud/assets/js/app.11046e0a.js" as="script">
    <link rel="stylesheet" href="/eurynome-cloud/assets/css/styles.03bfbc71.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/eurynome-cloud/" class=""><img class="logo" src="/eurynome-cloud/images/logo.png" alt="Eurynome Cloud"><span class="site-name can-hide">Eurynome Cloud</span></a></span><div class="navbar-links-wrapper" style=""><!--[--><!--]--><nav class="navbar-links can-hide"><!--[--><div class="navbar-links-item"><a href="/eurynome-cloud/documents/" class="nav-link router-link-active" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/eurynome-cloud/documents-athena/" class="nav-link" aria-label="单体版"><!--[--><!--]--> 单体版 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/eurynome-cloud/microservices/" class="nav-link" aria-label="微服务技术栈"><!--[--><!--]--> 微服务技术栈 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="了解更多"><span class="title">了解更多</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="了解更多"><span class="title">了解更多</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>延伸</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/eurynome-cloud/basic-knowledge/" class="nav-link" aria-label="了解基础知识"><!--[--><!--]--> 了解基础知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>帮助</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud/issues" rel="noopener noreferrer" target="_blank" aria-label="我要提问"><!--[--><!--]--> 我要提问 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/eurynome-cloud/others/README.md" class="nav-link" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/eurynome-cloud/others/更新日志.md" class="nav-link" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a class="nav-link external" href="https://jq.qq.com/?_wv=1027&amp;k=bIerJVy8" rel="noopener noreferrer" target="_blank" aria-label="加入QQ群"><!--[--><!--]--> 加入QQ群 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Gitee"><span class="title">Gitee</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Gitee"><span class="title">Gitee</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud" rel="noopener noreferrer" target="_blank" aria-label="后端源码"><!--[--><!--]--> 后端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud-ui" rel="noopener noreferrer" target="_blank" aria-label="前端源码"><!--[--><!--]--> 前端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/herodotus-cloud-athena" rel="noopener noreferrer" target="_blank" aria-label="单体版源码"><!--[--><!--]--> 单体版源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Github"><span class="title">Github</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Github"><span class="title">Github</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/eurynome-cloud" rel="noopener noreferrer" target="_blank" aria-label="后端源码"><!--[--><!--]--> 后端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/eurynome-cloud-ui" rel="noopener noreferrer" target="_blank" aria-label="前端源码"><!--[--><!--]--> 前端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/herodotus-cloud-athena" rel="noopener noreferrer" target="_blank" aria-label="单体版源码"><!--[--><!--]--> 单体版源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/eurynome-cloud/documents/" class="nav-link router-link-active" aria-label="指南"><!--[--><!--]--> 指南 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/eurynome-cloud/documents-athena/" class="nav-link" aria-label="单体版"><!--[--><!--]--> 单体版 <!--[--><!--]--></a></div><div class="navbar-links-item"><a href="/eurynome-cloud/microservices/" class="nav-link" aria-label="微服务技术栈"><!--[--><!--]--> 微服务技术栈 <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="了解更多"><span class="title">了解更多</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="了解更多"><span class="title">了解更多</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>延伸</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a href="/eurynome-cloud/basic-knowledge/" class="nav-link" aria-label="了解基础知识"><!--[--><!--]--> 了解基础知识 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="dropdown-item"><!--[--><h4 class="dropdown-subtitle"><span>帮助</span></h4><ul class="dropdown-subitem-wrapper"><!--[--><li class="dropdown-subitem"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud/issues" rel="noopener noreferrer" target="_blank" aria-label="我要提问"><!--[--><!--]--> 我要提问 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/eurynome-cloud/others/README.md" class="nav-link" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a href="/eurynome-cloud/others/更新日志.md" class="nav-link" aria-label="更新日志"><!--[--><!--]--> 更新日志 <!--[--><!--]--></a></li><li class="dropdown-subitem"><a class="nav-link external" href="https://jq.qq.com/?_wv=1027&amp;k=bIerJVy8" rel="noopener noreferrer" target="_blank" aria-label="加入QQ群"><!--[--><!--]--> 加入QQ群 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Gitee"><span class="title">Gitee</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Gitee"><span class="title">Gitee</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud" rel="noopener noreferrer" target="_blank" aria-label="后端源码"><!--[--><!--]--> 后端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/eurynome-cloud-ui" rel="noopener noreferrer" target="_blank" aria-label="前端源码"><!--[--><!--]--> 前端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://gitee.com/herodotus/herodotus-cloud-athena" rel="noopener noreferrer" target="_blank" aria-label="单体版源码"><!--[--><!--]--> 单体版源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Github"><span class="title">Github</span><span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Github"><span class="title">Github</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/eurynome-cloud" rel="noopener noreferrer" target="_blank" aria-label="后端源码"><!--[--><!--]--> 后端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/eurynome-cloud-ui" rel="noopener noreferrer" target="_blank" aria-label="前端源码"><!--[--><!--]--> 前端源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link external" href="https://github.com/herodotus-cloud/herodotus-cloud-athena" rel="noopener noreferrer" target="_blank" aria-label="单体版源码"><!--[--><!--]--> 单体版源码 <span><svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-links"><!--[--><!--[--><p class="sidebar-heading sidebar-item">指南</p><ul class=""><li><!--[--><a href="/eurynome-cloud/documents/" class="nav-link router-link-active sidebar-item" aria-label="介绍"><!--[--><!--]--> 介绍 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E5%BF%AB%E9%80%9F%E4%BA%86%E8%A7%A3.html" class="nav-link sidebar-item" aria-label="快速了解"><!--[--><!--]--> 快速了解 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D.html" class="nav-link sidebar-item" aria-label="项目介绍"><!--[--><!--]--> 项目介绍 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E7%8E%AF%E5%A2%83%E9%83%A8%E7%BD%B2.html" class="nav-link sidebar-item" aria-label="环境部署"><!--[--><!--]--> 环境部署 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item active">后端手册</p><ul class=""><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html" class="router-link-active router-link-exact-active nav-link router-link-active sidebar-item active" aria-label="数据初始化"><!--[--><!--]--> 数据初始化 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#系统初次部署数据库初始化内容" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="系统初次部署数据库初始化内容"><!--[--><!--]--> 系统初次部署数据库初始化内容 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#数据表及数据初始化说明" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="数据表及数据初始化说明"><!--[--><!--]--> 数据表及数据初始化说明 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#_1-、oauth2-标准表结构的创建" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="[1]、OAuth2 标准表结构的创建"><!--[--><!--]--> [1]、OAuth2 标准表结构的创建 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#_2-、服务中涉及业务表的创建" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="[2]、服务中涉及业务表的创建"><!--[--><!--]--> [2]、服务中涉及业务表的创建 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#_3-、个别view或函数的创建-可选" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="[3]、个别View或函数的创建（可选）"><!--[--><!--]--> [3]、个别View或函数的创建（可选） <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#_4-、默认用户、角色等数据的初始化" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="[4]、默认用户、角色等数据的初始化"><!--[--><!--]--> [4]、默认用户、角色等数据的初始化 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#_5-、服务rest-api接口数据初始化" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="[5]、服务Rest API接口数据初始化"><!--[--><!--]--> [5]、服务Rest API接口数据初始化 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#数据表和数据自动初始化" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="数据表和数据自动初始化"><!--[--><!--]--> 数据表和数据自动初始化 <!--[--><!--]--></a><ul class="sidebar-sub-items"><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#解决办法" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="解决办法"><!--[--><!--]--> 解决办法 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#具体步骤" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="具体步骤"><!--[--><!--]--> 具体步骤 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a aria-current="page" href="/eurynome-cloud/documents/%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96.html#系统默认账号" class="router-link-active router-link-exact-active nav-link sidebar-item" aria-label="系统默认账号"><!--[--><!--]--> 系统默认账号 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E6%9B%B4%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93.html" class="nav-link sidebar-item" aria-label="更换数据库"><!--[--><!--]--> 更换数据库 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E5%A4%9A%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE.html" class="nav-link sidebar-item" aria-label="多环境配置"><!--[--><!--]--> 多环境配置 <!--[--><!--]--></a><!----><!--]--></li><li><!--[--><a href="/eurynome-cloud/documents/%E6%96%B0%E5%BB%BA%E5%AD%90%E6%A8%A1%E5%9D%97.html" class="nav-link sidebar-item" aria-label="新建子模块"><!--[--><!--]--> 新建子模块 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--[--><p class="sidebar-heading sidebar-item">前端手册</p><ul class=""><li><!--[--><a href="/eurynome-cloud/documents/%E5%89%8D%E7%AB%AF%E6%89%8B%E5%86%8C.html" class="nav-link sidebar-item" aria-label="前端手册"><!--[--><!--]--> 前端手册 <!--[--><!--]--></a><!----><!--]--></li></ul><!--]--><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="数据初始化" tabindex="-1"><a class="header-anchor" href="#数据初始化" aria-hidden="true">#</a> 数据初始化</h1><h2 id="系统初次部署数据库初始化内容" tabindex="-1"><a class="header-anchor" href="#系统初次部署数据库初始化内容" aria-hidden="true">#</a> 系统初次部署数据库初始化内容</h2><p><strong>Eurynome Cloud</strong> 在初次使用时，数据初始化涉及以下内容：</p><ul><li>数据库表创建，其中涉及以下几部分表的创建： <ol><li>OAuth2 标准表结构的创建</li><li>服务中涉及业务表的创建</li><li>个别View或函数的创建</li></ol></li><li>默认数据初始化，其中涉及以下几部分数据的初始化 <ol><li>默认用户、角色等数据的初始化</li><li>平台已有服务Rest API接口数据初始化以及权限数据的转化。</li></ol></li></ul><h2 id="数据表及数据初始化说明" tabindex="-1"><a class="header-anchor" href="#数据表及数据初始化说明" aria-hidden="true">#</a> 数据表及数据初始化说明</h2><h3 id="_1-、oauth2-标准表结构的创建" tabindex="-1"><a class="header-anchor" href="#_1-、oauth2-标准表结构的创建" aria-hidden="true">#</a> [1]、OAuth2 标准表结构的创建</h3><p>目前系统提供<code>MySQL</code>和 <code>PostgreSQL</code> 两种数据库的<code>OAuth2</code>标准的表结构创建脚本，可以在工程的<code>${project_home}/configurations/scripts</code>目录下找到对应的Schema SQL脚本。</p><p>在<code>${project_home}/packages/eurynome-cloud-security</code>包的<code>resources</code>目录中，也存有一份<code>OAuth2</code>的表结构创建脚本以及默认数据的导入脚本。这些脚本与<code>${project_home}/configurations/scripts</code>内容一致，主要是用于微服务版和单体版的自动化表结构创建和数据初始化，具体用法后面会讲到。</p><h3 id="_2-、服务中涉及业务表的创建" tabindex="-1"><a class="header-anchor" href="#_2-、服务中涉及业务表的创建" aria-hidden="true">#</a> [2]、服务中涉及业务表的创建</h3><p>系统虽然同时支持<code>Mybatis</code>和<code>JPA</code>，但是已有服务的代码实现目前均是基于<code>JPA</code>编写，因此服务中涉及的业务表，只要<code>spring.jpa.hibernate.ddl-auto</code>属性设置为非<code>none</code>值，那么就可以自动创建。</p><div class="custom-container tip"><p class="custom-container-title">提示</p><p>在微服务架构，可以通过修改<code>Nacos</code>对应环境下（系统支持多环境，不同环境对应Nacos不同的组）的<code>eurynome-cloud-environment.yaml</code>配置中的<code>herodotus.switch.database.ddl-auto</code>值进行修改。</p></div><h3 id="_3-、个别view或函数的创建-可选" tabindex="-1"><a class="header-anchor" href="#_3-、个别view或函数的创建-可选" aria-hidden="true">#</a> [3]、个别View或函数的创建（可选）</h3><p>如果已有功能使用到了数据库的视图、函数（或存储过程）等特性，那么会提供相应的创建脚本，可以在工程的<code>${project_home}/configurations/scripts</code>目录下找到对应的Schema SQL脚本。</p><blockquote><p>注：目前开源版本暂不涉及，可以忽略本项内容</p></blockquote><h3 id="_4-、默认用户、角色等数据的初始化" tabindex="-1"><a class="header-anchor" href="#_4-、默认用户、角色等数据的初始化" aria-hidden="true">#</a> [4]、默认用户、角色等数据的初始化</h3><p>表结构创建完成之后，可以通过导入数据初始化脚本，导入系统默认的用户、角色以及<code>OAuth2</code>相关数据。该脚本可以在<code>${project_home}/services/eurynome-cloud-upms-ability</code>包的<code>resources</code>目录下找到。</p><h3 id="_5-、服务rest-api接口数据初始化" tabindex="-1"><a class="header-anchor" href="#_5-、服务rest-api接口数据初始化" aria-hidden="true">#</a> [5]、服务Rest API接口数据初始化</h3><p>系统基础的权限数据，来源于所有服务中包含的<code>Rest API</code>接口。为了方便使用，服务在正常启动之后，会扫描所有的<code>RestController</code>，获取其中所有的接口信息后，存入系统的<code>sys_authority</code>表作为权限数据。</p><div class="custom-container tip"><p class="custom-container-title">说明</p><p>系统对扫描<code>RestController</code>，获取接口信息功能提供了开关配置，可以通过配置设置是否开启扫描功能。同时，考虑到减少配置，提高使用的便捷性，所以是否开启注解扫描的配置直接使用的是<code>spring.jpa.hibernate.ddl-auto</code>的值。即：如果<code>spring.jpa.hibernate.ddl-auto</code>的值是<code>none</code>，那么就关闭注解扫描功能。</p></div><div class="custom-container tip"><p class="custom-container-title">说明</p><p>系统是以服务名、请求类型以及请求URL组合值的MD5值作为权限的ID，所以只要保证“服务名、请求类型、请求URL”这三个值不改变，那么权限的ID就不会变化。其中任意一个值有变化，就会被当成新的权限数据存入<code>sys_authority</code>表中，这时就一定请注意你所配置的role和authority的关系。</p></div><div class="custom-container tip"><p class="custom-container-title">说明</p><p>扫描所有的<code>RestController</code>获取接口信息后，是使用 jpa 的<code>save()</code>方法进行权限数据的保存。这个方法既有新增功能又有更新功能，如果<code>sys_authority</code>表中没有该条权限数据就新增，如果有那么就更新。因此，尽量不要手动修改<code>sys_authority</code>的值，修改后的值会被重新的扫描<code>RestController</code>获取到的值覆盖。</p></div><h2 id="数据表和数据自动初始化" tabindex="-1"><a class="header-anchor" href="#数据表和数据自动初始化" aria-hidden="true">#</a> 数据表和数据自动初始化</h2><p>因为是使用<code>spring-data-jpa</code>，所以可以使用<code>spring-data-jpa</code>提供的机制进行数据表和数据自动初始化。</p><p><code>spring-data-jpa</code>中，jpa的默认实现使用的是<code>Hibernate</code>。提供了基于<code>JDBC</code>和<code>Hibernate</code>两部分数据表创建和初始化机制：</p><ul><li>基于JDBC的初始化机制：通过配置spring.sql.init相关属性实现，使用jdbc读取sql脚本实现。schema相关脚本创建表、视图、存储过程等，data相关脚本导入数据。</li><li>基于Hibernate的初始化机制：通过配置spring.jpa.hibernate.ddl-auto相关属性实现，利用Hibernate自身的机制实现。目前只用到的了建表功能。</li></ul><p><strong>Eurynome Cloud</strong>的数据表和数据自动初始化就是基于这两种机制实现，用<code>Hibernate</code>的初始化机制创建服务涉及的相关业务表，用<code>JDBC</code>的初始化机制创建<code>OAuth2</code>的标准表和导入所有的初始化数据。</p><p>由于<code>spring-data-jpa</code>的<code>JDBC</code>的初始化机制，在服务启动过程中会早于<code>Hibernate</code>的初始化机制执行，这就导致在第一次执行数据表和数据自动初始化时会出现问题：服务涉及的业务表还没有创建，<code>JDBC</code>的初始化机制就可开始导入数据，导致数据初始化失败。</p><h3 id="解决办法" tabindex="-1"><a class="header-anchor" href="#解决办法" aria-hidden="true">#</a> 解决办法</h3><ol><li>将所有表结构和初始数据全部生成为SQL脚本，只使用JDBC的初始化机制进行初始化。因为目前没有使用flyway等数据库版本管理，手动管理的数据库脚本越多，就越容易出现数据库变更后脚本更新不及时导致出错率增大的问题。（后续考虑增加flyway等数据库版本管理功能）</li><li>还是综合使用JDBC的初始化机制和Hibernate的初始化机制，使用一种绕的办法解决初始化时机不同的问题。</li></ol><h3 id="具体步骤" tabindex="-1"><a class="header-anchor" href="#具体步骤" aria-hidden="true">#</a> 具体步骤</h3><ol><li>设置属性<code>spring.sql.init.mode=never</code>、<code>spring.jpa.hibernate.ddl-auto=create</code>，先启动一次服务。这次启动<code>Hibernate</code>会把所有服务涉及的业务表创建出来，同时系统会把所有的扫描到的<code>RestController</code>接口存储至<code>sys_authority</code>表中。然后，停掉该服务。</li><li>设置属性<code>spring.sql.init.mode=always</code>、<code>spring.jpa.hibernate.ddl-auto=update</code>，再一次启动服务。这次服务启动会<code>JDBC</code>的初始化机制就会创建<code>OAuth2</code>的表结构，以及导入所有初始化数据而不会出错。</li><li>数据初始化成功后，请注意将属性<code>spring.sql.init.mode</code>改回<code>never</code>，防止下次运行再次导入数据导致主键冲突等问题。属性spring.jpa.hibernate.ddl-auto的值可以根据自己实际使用需求需改。一般在开发阶段或设置为<code>update</code>或者<code>none</code>。</li></ol><h2 id="系统默认账号" tabindex="-1"><a class="header-anchor" href="#系统默认账号" aria-hidden="true">#</a> 系统默认账号</h2><p>系统部署完成后，可以使用一下账号进行登录使用：</p><ul><li>默认用户名：<strong>system</strong></li><li>默认密码：<strong>123456</strong></li></ul><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">更新时间: </span><span class="meta-item-info">2021/9/8 上午12:03:33</span></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: pointer_v@qq.com">herodotus</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/eurynome-cloud/documents/%E6%9B%B4%E6%8D%A2%E6%95%B0%E6%8D%AE%E5%BA%93.html" class="nav-link" aria-label="更换数据库"><!--[--><!--]--> 更换数据库 <!--[--><!--]--></a> → </span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script src="/eurynome-cloud/assets/js/runtime~app.af71715b.js" defer></script><script src="/eurynome-cloud/assets/js/567.0e0ffb96.js" defer></script><script src="/eurynome-cloud/assets/js/app.11046e0a.js" defer></script>
  </body>
</html>
