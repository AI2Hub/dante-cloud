server:
  port: 8846
spring:
  application:
    name: @artifactId@ #拿到POM文件中的值
  profiles:
    active: @profile.name@
  main:
    allow-bean-definition-overriding: true
  cloud:
    nacos:
      config:
        namespace: @config.namespace@
        server-addr: @config.server-addr@
        refreshable-dataids: eurynome-cloud-@profile.name@-platform.yml
        shared-dataids: eurynome-cloud-@profile.name@-platform.yml,eurynome-cloud-@profile.name@-redis.yml,eurynome-cloud-@profile.name@-database-@database.type@.yml,eurynome-cloud-@profile.name@-kafka.yml
        file-extension: yml
      discovery:
        namespace: @config.namespace@
        server-addr: @discovery.server-addr@
    sentinel:
      transport:
        port: 8719
        dashboard: @sentinel.server-addr@
  thymeleaf:
    mode: HTML
    cache: false
    prefix: classpath:/templates
  http:
    encoding:
      charset: UTF-8
      force: true
      enabled: true


management:
  endpoints:
    web:
      exposure:
        include: '*'

logging:
  level:
    org.springframework.security: INFO
    com.alibaba.nacos.client: WARN
    cn.herodotus.eurynome: DEBUG

feign:
  client:
    config:
      default:
        connectTimeout: 5000
        readTimeout: 5000
  sentinel:
    enabled: true

hystrix:
  command:
    default:
      execution:
        timeout:
          enabled: true
        isolation:
          thread:
            ##断路器的超时时间需要大于ribbon的超时时间，不然不会触发重试
            timeoutInMilliseconds: 30000
  threadpool:
    default:
      coreSize: 20

ribbon:
  ##请求处理的超时时间
  ReadTimeout: 5000
  ##请求连接的超时时间
  ConnectTimeout: 2000
  ##对当前实例的重试次数
  MaxAutoRetries: 1
  ##对所有操作请求都进行重试
  OkToRetryOnAllOperations: true
  ##切换实例的重试次数
  MaxAutoRetriesNextServer: 1
  http:
    client:
      enabled: false
  okhttp:
    enabled: true # 用OkHttp代替HttpClient
  eager-load:
    enabled: true